import{useLocaleConfig as s}from"@vuepress/helper/client";import{defineComponent as i,ref as l,onMounted as c,h as e,Transition as d}from"vue";import{U as m}from"../icons-DQk7h1-3.js";import"../styles/popup.css";import{u as f}from"../usePwaEvent-CUDY9qle.js";const v=i({name:"PwaFoundPopup",props:{locales:{type:Object,required:!0}},slots:Object,setup(a,{slots:p}){const r=s(a.locales),o=l(!1),t=()=>{o.value&&(window.location.reload(!0),o.value=!1)};return c(()=>{const n=f();n.on("updatefound",()=>{navigator.serviceWorker.getRegistration().then(u=>{u?.active&&(o.value=!0)})}),n.on("updated",()=>{o.value=!1})}),()=>e(d,{name:"popup"},()=>p.default?.({found:o.value,refresh:t})??(o.value?e("button",{type:"button",class:"sw-hint-popup",tabindex:0,onClick:()=>{t()}},[r.value.hint,e("span",{class:"icon-wrapper"},e(m))]):null))}});export{v as PwaFoundPopup};
//# sourceMappingURL=PwaFoundPopup.js.map
