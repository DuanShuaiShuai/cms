import{useRevealJs as R}from"@temp/revealjs/index.js";import{decodeData as S,LoadingIcon as b,wait as J}from"@vuepress/helper/client";import{inject as E,defineComponent as C,ref as u,shallowRef as L,onMounted as P,onUnmounted as k,h as i}from"vue";import{usePageFrontmatter as A,usePageLayout as j}from"vuepress/client";import"./styles/reveal-js.css";let c={};const m=Symbol(__VUEPRESS_DEV__?"revealjs":""),D=e=>{c=e},v=()=>E(m),V=e=>{e.provide(m,c)},$=C({name:"RevealJs",props:{id:{type:String,required:!0},code:{type:String,required:!0},theme:{type:String,default:"auto"}},setup(e){const o=v(),p=A(),f=j(),n=u(""),r=u(!0),s=L();let l=null;const g=async t=>{const y=[J(__REVEAL_DELAY__),...R()],[,{default:h},..._]=await Promise.all(y),a=f.value.name==="SlidePage",d=new h(t,{backgroundTransition:"slide",transition:"slide",slideNumber:!0,...o,hash:a,mouseWheel:a,...p.value.revealJs,embedded:!a,keyboardCondition:a?null:"focused",markdown:{separator:`^\r?\\n---\r?
$`,verticalSeparator:`^\r?
--\r?
$`},plugins:[_.map(({default:w})=>w),o.plugins??[]].flat()});return await d.initialize(),d};return P(async()=>{const t=s.value;t&&(n.value=S(e.code),t.setAttribute("id",e.id),t.setAttribute("data-theme",e.theme),l=await g(t),r.value=!1)}),k(()=>{l?.destroy()}),()=>i("div",{class:"vp-reveal"},[i("div",{ref:s,class:["reveal","reveal-viewport"]},i("div",{class:"slides",innerHTML:`<section data-markdown><script type="text/template">${n.value}<\/script></section>`})),r.value?i(b,{class:"reveal-loading",height:400}):null])}});export{$ as RevealJs,D as defineRevealJsConfig,V as injectRevealJsConfig,v as useRevealJsConfig};
//# sourceMappingURL=index.js.map
