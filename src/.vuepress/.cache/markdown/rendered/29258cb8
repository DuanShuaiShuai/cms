{"content":"<h1 id=\"scp\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#scp\"><span>scp</span></a></h1>\n<h2 id=\"基本用法\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#基本用法\"><span>基本用法</span></a></h2>\n<p><code v-pre>scp</code> 是 secure copy 的缩写，用来在两台主机之间加密传送文件。它的底层是 SSH 协议，默认端口是 22。</p>\n<p>它主要用于以下三种复制操作。</p>\n<ul>\n<li>从本地系统到远程系统。</li>\n<li>从远程系统到本地系统。</li>\n<li>在本地系统的两个远程系统之间。</li>\n</ul>\n<p>使用 <code v-pre>scp</code> 传输数据时，文件和密码都是加密的，不会泄漏敏感信息。</p>\n<p><code v-pre>scp</code> 的语法类似 <code v-pre>cp</code> 的语法。</p>\n<p>注意，如果传输的文件在本机和远程系统，有相同的名称和位置，<code v-pre>scp</code> 会在没有警告的情况下覆盖文件。</p>\n<h3 id=\"本地文件复制到远程系统\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#本地文件复制到远程系统\"><span>本地文件复制到远程系统</span></a></h3>\n<p>复制本机文件到远程系统的基本语法如下。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 语法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> SourceFile</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host:directory/TargetFile</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 示例</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> file.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remote_username@10.10.0.2:/remote/directory</span></span></code></pre>\n</div><p>下面是复制整个目录。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 将本机的 documents 目录拷贝到远程主机，</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 会在远程主机创建 documents 目录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> documents</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> username@server_ip:/path_to_remote_directory</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 将本机整个目录拷贝到远程目录下</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> localmachine/path_to_the_directory</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> username@server_ip:/path_to_remote_directory/</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 将本机目录下的所有内容拷贝到远程目录下</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> localmachine/path_to_the_directory/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> username@server_ip:/path_to_remote_directory/</span></span></code></pre>\n</div><h3 id=\"远程文件复制到本地\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#远程文件复制到本地\"><span>远程文件复制到本地</span></a></h3>\n<p>从远程主机复制文件到本地的语法如下。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 语法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host:directory/SourceFile</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> TargetFile</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 示例</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remote_username@10.10.0.2:/remote/file.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /local/directory</span></span></code></pre>\n</div><p>下面是复制整个目录的例子。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 拷贝一个远程目录到本机目录下</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> username@server_ip:/path_to_remote_directory</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> local-machine/path_to_the_directory/</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 拷贝远程目录下的所有内容，到本机目录下</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> username@server_ip:/path_to_remote_directory/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> local-machine/path_to_the_directory/</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host:directory/SourceFolder</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> TargetFolder</span></span></code></pre>\n</div><h3 id=\"两个远程系统之间的复制\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#两个远程系统之间的复制\"><span>两个远程系统之间的复制</span></a></h3>\n<p>本机发出指令，从远程主机 A 拷贝到远程主机 B 的语法如下。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 语法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host1:directory/SourceFile</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host2:directory/SourceFile</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 示例</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user1@host1.com:/files/file.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user2@host2.com:/files</span></span></code></pre>\n</div><p>系统将提示您输入两个远程帐户的密码。数据将直接从一个远程主机传输到另一个远程主机。</p>\n<h2 id=\"参数\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#参数\"><span>参数</span></a></h2>\n<p><code v-pre>-P</code> 用来指定远程主机的 SSH 端口。如果远程主机使用非默认端口 22，可以在命令中指定。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -P</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2222</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host:directory/SourceFile</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> TargetFile</span></span></code></pre>\n</div><p><code v-pre>-p</code> 参数用来保留修改时间(modification time)、访问时间(access time)、文件状态(mode)等原始文件的信息。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -C</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -p</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ~/test.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> root@192.168.1.3:/some/path/test.txt</span></span></code></pre>\n</div><p><code v-pre>-l</code> 参数用来限制传输数据的带宽速率，单位是 Kbit/sec。对于多人分享的带宽，这个参数可以留出一部分带宽供其他人使用。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -l</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 80</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> yourusername@yourserver:/home/yourusername/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> .</span></span></code></pre>\n</div><p>上面代码中，<code v-pre>scp</code> 命令占用的带宽限制为每秒 80K 比特位，即每秒 10K 字节。</p>\n<p><code v-pre>-c</code> 参数用来指定加密算法。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -c</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> blowfish</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> some_file</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> your_username@remotehost.edu:~</span></span></code></pre>\n</div><p>上面代码指定加密算法为 <code v-pre>blowfish</code>。</p>\n<p><code v-pre>-C</code> 表示是否在传输时压缩文件。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -c</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> blowfish</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -C</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> local_file</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> your_username@remotehost.edu:~</span></span></code></pre>\n</div><p><code v-pre>-q</code> 参数用来关闭显示拷贝的进度条。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -q</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Label.pdf</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> mrarianto@202.x.x.x:.</span></span></code></pre>\n</div><p><code v-pre>-F</code> 参数用来指定 ssh_config 文件。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -F</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /home/pungki/proxy_ssh_config</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Label.pdf</span></span></code></pre>\n</div><p><code v-pre>-v</code> 参数用来显示详细的输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -v</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ~/test.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> root@192.168.1.3:/root/help2356.txt</span></span></code></pre>\n</div><p><code v-pre>-i</code> 参数用来指定密钥。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -vCq</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -i</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> private_key.pem</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ~/test.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> root@192.168.1.3:/some/path/test.txt</span></span></code></pre>\n</div><p><code v-pre>-r</code> 参数表示是否以递归方式复制目录。</p>\n","env":{"base":"/","filePath":"/Users/carson/Desktop/Mister-Hope.github.io-main/src/linux/bash/archives/commands/scp.md","filePathRelative":"linux/bash/archives/commands/scp.md","frontmatter":{"date":"2020-06-04T00:00:00.000Z"},"sfcBlocks":{"template":{"type":"template","content":"<template><h1 id=\"scp\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#scp\"><span>scp</span></a></h1>\n<h2 id=\"基本用法\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#基本用法\"><span>基本用法</span></a></h2>\n<p><code v-pre>scp</code> 是 secure copy 的缩写，用来在两台主机之间加密传送文件。它的底层是 SSH 协议，默认端口是 22。</p>\n<p>它主要用于以下三种复制操作。</p>\n<ul>\n<li>从本地系统到远程系统。</li>\n<li>从远程系统到本地系统。</li>\n<li>在本地系统的两个远程系统之间。</li>\n</ul>\n<p>使用 <code v-pre>scp</code> 传输数据时，文件和密码都是加密的，不会泄漏敏感信息。</p>\n<p><code v-pre>scp</code> 的语法类似 <code v-pre>cp</code> 的语法。</p>\n<p>注意，如果传输的文件在本机和远程系统，有相同的名称和位置，<code v-pre>scp</code> 会在没有警告的情况下覆盖文件。</p>\n<h3 id=\"本地文件复制到远程系统\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#本地文件复制到远程系统\"><span>本地文件复制到远程系统</span></a></h3>\n<p>复制本机文件到远程系统的基本语法如下。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 语法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> SourceFile</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host:directory/TargetFile</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 示例</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> file.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remote_username@10.10.0.2:/remote/directory</span></span></code></pre>\n</div><p>下面是复制整个目录。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 将本机的 documents 目录拷贝到远程主机，</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 会在远程主机创建 documents 目录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> documents</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> username@server_ip:/path_to_remote_directory</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 将本机整个目录拷贝到远程目录下</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> localmachine/path_to_the_directory</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> username@server_ip:/path_to_remote_directory/</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 将本机目录下的所有内容拷贝到远程目录下</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> localmachine/path_to_the_directory/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> username@server_ip:/path_to_remote_directory/</span></span></code></pre>\n</div><h3 id=\"远程文件复制到本地\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#远程文件复制到本地\"><span>远程文件复制到本地</span></a></h3>\n<p>从远程主机复制文件到本地的语法如下。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 语法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host:directory/SourceFile</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> TargetFile</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 示例</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remote_username@10.10.0.2:/remote/file.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /local/directory</span></span></code></pre>\n</div><p>下面是复制整个目录的例子。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 拷贝一个远程目录到本机目录下</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> username@server_ip:/path_to_remote_directory</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> local-machine/path_to_the_directory/</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 拷贝远程目录下的所有内容，到本机目录下</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> username@server_ip:/path_to_remote_directory/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> local-machine/path_to_the_directory/</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host:directory/SourceFolder</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> TargetFolder</span></span></code></pre>\n</div><h3 id=\"两个远程系统之间的复制\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#两个远程系统之间的复制\"><span>两个远程系统之间的复制</span></a></h3>\n<p>本机发出指令，从远程主机 A 拷贝到远程主机 B 的语法如下。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 语法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host1:directory/SourceFile</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host2:directory/SourceFile</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 示例</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user1@host1.com:/files/file.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user2@host2.com:/files</span></span></code></pre>\n</div><p>系统将提示您输入两个远程帐户的密码。数据将直接从一个远程主机传输到另一个远程主机。</p>\n<h2 id=\"参数\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#参数\"><span>参数</span></a></h2>\n<p><code v-pre>-P</code> 用来指定远程主机的 SSH 端口。如果远程主机使用非默认端口 22，可以在命令中指定。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -P</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2222</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host:directory/SourceFile</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> TargetFile</span></span></code></pre>\n</div><p><code v-pre>-p</code> 参数用来保留修改时间(modification time)、访问时间(access time)、文件状态(mode)等原始文件的信息。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -C</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -p</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ~/test.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> root@192.168.1.3:/some/path/test.txt</span></span></code></pre>\n</div><p><code v-pre>-l</code> 参数用来限制传输数据的带宽速率，单位是 Kbit/sec。对于多人分享的带宽，这个参数可以留出一部分带宽供其他人使用。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -l</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 80</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> yourusername@yourserver:/home/yourusername/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> .</span></span></code></pre>\n</div><p>上面代码中，<code v-pre>scp</code> 命令占用的带宽限制为每秒 80K 比特位，即每秒 10K 字节。</p>\n<p><code v-pre>-c</code> 参数用来指定加密算法。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -c</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> blowfish</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> some_file</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> your_username@remotehost.edu:~</span></span></code></pre>\n</div><p>上面代码指定加密算法为 <code v-pre>blowfish</code>。</p>\n<p><code v-pre>-C</code> 表示是否在传输时压缩文件。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -c</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> blowfish</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -C</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> local_file</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> your_username@remotehost.edu:~</span></span></code></pre>\n</div><p><code v-pre>-q</code> 参数用来关闭显示拷贝的进度条。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -q</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Label.pdf</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> mrarianto@202.x.x.x:.</span></span></code></pre>\n</div><p><code v-pre>-F</code> 参数用来指定 ssh_config 文件。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -F</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /home/pungki/proxy_ssh_config</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Label.pdf</span></span></code></pre>\n</div><p><code v-pre>-v</code> 参数用来显示详细的输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -v</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ~/test.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> root@192.168.1.3:/root/help2356.txt</span></span></code></pre>\n</div><p><code v-pre>-i</code> 参数用来指定密钥。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -vCq</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -i</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> private_key.pem</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ~/test.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> root@192.168.1.3:/some/path/test.txt</span></span></code></pre>\n</div><p><code v-pre>-r</code> 参数表示是否以递归方式复制目录。</p>\n</template>","contentStripped":"<h1 id=\"scp\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#scp\"><span>scp</span></a></h1>\n<h2 id=\"基本用法\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#基本用法\"><span>基本用法</span></a></h2>\n<p><code v-pre>scp</code> 是 secure copy 的缩写，用来在两台主机之间加密传送文件。它的底层是 SSH 协议，默认端口是 22。</p>\n<p>它主要用于以下三种复制操作。</p>\n<ul>\n<li>从本地系统到远程系统。</li>\n<li>从远程系统到本地系统。</li>\n<li>在本地系统的两个远程系统之间。</li>\n</ul>\n<p>使用 <code v-pre>scp</code> 传输数据时，文件和密码都是加密的，不会泄漏敏感信息。</p>\n<p><code v-pre>scp</code> 的语法类似 <code v-pre>cp</code> 的语法。</p>\n<p>注意，如果传输的文件在本机和远程系统，有相同的名称和位置，<code v-pre>scp</code> 会在没有警告的情况下覆盖文件。</p>\n<h3 id=\"本地文件复制到远程系统\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#本地文件复制到远程系统\"><span>本地文件复制到远程系统</span></a></h3>\n<p>复制本机文件到远程系统的基本语法如下。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 语法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> SourceFile</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host:directory/TargetFile</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 示例</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> file.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remote_username@10.10.0.2:/remote/directory</span></span></code></pre>\n</div><p>下面是复制整个目录。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 将本机的 documents 目录拷贝到远程主机，</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 会在远程主机创建 documents 目录</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> documents</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> username@server_ip:/path_to_remote_directory</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 将本机整个目录拷贝到远程目录下</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> localmachine/path_to_the_directory</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> username@server_ip:/path_to_remote_directory/</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 将本机目录下的所有内容拷贝到远程目录下</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> localmachine/path_to_the_directory/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> username@server_ip:/path_to_remote_directory/</span></span></code></pre>\n</div><h3 id=\"远程文件复制到本地\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#远程文件复制到本地\"><span>远程文件复制到本地</span></a></h3>\n<p>从远程主机复制文件到本地的语法如下。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 语法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host:directory/SourceFile</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> TargetFile</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 示例</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> remote_username@10.10.0.2:/remote/file.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /local/directory</span></span></code></pre>\n</div><p>下面是复制整个目录的例子。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 拷贝一个远程目录到本机目录下</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> username@server_ip:/path_to_remote_directory</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> local-machine/path_to_the_directory/</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 拷贝远程目录下的所有内容，到本机目录下</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> username@server_ip:/path_to_remote_directory/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> local-machine/path_to_the_directory/</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -r</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host:directory/SourceFolder</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> TargetFolder</span></span></code></pre>\n</div><h3 id=\"两个远程系统之间的复制\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#两个远程系统之间的复制\"><span>两个远程系统之间的复制</span></a></h3>\n<p>本机发出指令，从远程主机 A 拷贝到远程主机 B 的语法如下。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 语法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host1:directory/SourceFile</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host2:directory/SourceFile</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 示例</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> scp</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user1@host1.com:/files/file.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user2@host2.com:/files</span></span></code></pre>\n</div><p>系统将提示您输入两个远程帐户的密码。数据将直接从一个远程主机传输到另一个远程主机。</p>\n<h2 id=\"参数\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#参数\"><span>参数</span></a></h2>\n<p><code v-pre>-P</code> 用来指定远程主机的 SSH 端口。如果远程主机使用非默认端口 22，可以在命令中指定。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -P</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2222</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> user@host:directory/SourceFile</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> TargetFile</span></span></code></pre>\n</div><p><code v-pre>-p</code> 参数用来保留修改时间(modification time)、访问时间(access time)、文件状态(mode)等原始文件的信息。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -C</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -p</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ~/test.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> root@192.168.1.3:/some/path/test.txt</span></span></code></pre>\n</div><p><code v-pre>-l</code> 参数用来限制传输数据的带宽速率，单位是 Kbit/sec。对于多人分享的带宽，这个参数可以留出一部分带宽供其他人使用。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -l</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 80</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> yourusername@yourserver:/home/yourusername/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> .</span></span></code></pre>\n</div><p>上面代码中，<code v-pre>scp</code> 命令占用的带宽限制为每秒 80K 比特位，即每秒 10K 字节。</p>\n<p><code v-pre>-c</code> 参数用来指定加密算法。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -c</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> blowfish</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> some_file</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> your_username@remotehost.edu:~</span></span></code></pre>\n</div><p>上面代码指定加密算法为 <code v-pre>blowfish</code>。</p>\n<p><code v-pre>-C</code> 表示是否在传输时压缩文件。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -c</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> blowfish</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -C</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> local_file</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> your_username@remotehost.edu:~</span></span></code></pre>\n</div><p><code v-pre>-q</code> 参数用来关闭显示拷贝的进度条。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -q</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Label.pdf</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> mrarianto@202.x.x.x:.</span></span></code></pre>\n</div><p><code v-pre>-F</code> 参数用来指定 ssh_config 文件。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -F</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /home/pungki/proxy_ssh_config</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Label.pdf</span></span></code></pre>\n</div><p><code v-pre>-v</code> 参数用来显示详细的输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -v</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ~/test.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> root@192.168.1.3:/root/help2356.txt</span></span></code></pre>\n</div><p><code v-pre>-i</code> 参数用来指定密钥。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">scp</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -vCq</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -i</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> private_key.pem</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ~/test.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> root@192.168.1.3:/some/path/test.txt</span></span></code></pre>\n</div><p><code v-pre>-r</code> 参数表示是否以递归方式复制目录。</p>\n","tagOpen":"<template>","tagClose":"</template>"},"script":null,"scriptSetup":null,"scripts":[],"styles":[],"customBlocks":[]},"content":"\n# scp\n\n## 基本用法\n\n`scp` 是 secure copy 的缩写，用来在两台主机之间加密传送文件。它的底层是 SSH 协议，默认端口是 22。\n\n它主要用于以下三种复制操作。\n\n- 从本地系统到远程系统。\n- 从远程系统到本地系统。\n- 在本地系统的两个远程系统之间。\n\n使用 `scp` 传输数据时，文件和密码都是加密的，不会泄漏敏感信息。\n\n`scp` 的语法类似 `cp` 的语法。\n\n注意，如果传输的文件在本机和远程系统，有相同的名称和位置，`scp` 会在没有警告的情况下覆盖文件。\n\n### 本地文件复制到远程系统\n\n复制本机文件到远程系统的基本语法如下。\n\n```bash\n# 语法\n$ scp SourceFile user@host:directory/TargetFile\n\n# 示例\n$ scp file.txt remote_username@10.10.0.2:/remote/directory\n```\n\n下面是复制整个目录。\n\n```bash\n# 将本机的 documents 目录拷贝到远程主机，\n# 会在远程主机创建 documents 目录\n$ scp -r documents username@server_ip:/path_to_remote_directory\n\n# 将本机整个目录拷贝到远程目录下\n$ scp -r localmachine/path_to_the_directory username@server_ip:/path_to_remote_directory/\n\n# 将本机目录下的所有内容拷贝到远程目录下\n$ scp -r localmachine/path_to_the_directory/* username@server_ip:/path_to_remote_directory/\n```\n\n### 远程文件复制到本地\n\n从远程主机复制文件到本地的语法如下。\n\n```bash\n# 语法\n$ scp user@host:directory/SourceFile TargetFile\n\n# 示例\n$ scp remote_username@10.10.0.2:/remote/file.txt /local/directory\n```\n\n下面是复制整个目录的例子。\n\n```bash\n# 拷贝一个远程目录到本机目录下\n$ scp -r username@server_ip:/path_to_remote_directory local-machine/path_to_the_directory/\n\n# 拷贝远程目录下的所有内容，到本机目录下\n$ scp -r username@server_ip:/path_to_remote_directory/* local-machine/path_to_the_directory/\n$ scp -r user@host:directory/SourceFolder TargetFolder\n```\n\n### 两个远程系统之间的复制\n\n本机发出指令，从远程主机 A 拷贝到远程主机 B 的语法如下。\n\n```bash\n# 语法\n$ scp user@host1:directory/SourceFile user@host2:directory/SourceFile\n\n# 示例\n$ scp user1@host1.com:/files/file.txt user2@host2.com:/files\n```\n\n系统将提示您输入两个远程帐户的密码。数据将直接从一个远程主机传输到另一个远程主机。\n\n## 参数\n\n`-P` 用来指定远程主机的 SSH 端口。如果远程主机使用非默认端口 22，可以在命令中指定。\n\n```bash\nscp -P 2222 user@host:directory/SourceFile TargetFile\n```\n\n`-p` 参数用来保留修改时间(modification time)、访问时间(access time)、文件状态(mode)等原始文件的信息。\n\n```bash\nscp -C -p ~/test.txt root@192.168.1.3:/some/path/test.txt\n```\n\n`-l` 参数用来限制传输数据的带宽速率，单位是 Kbit/sec。对于多人分享的带宽，这个参数可以留出一部分带宽供其他人使用。\n\n```bash\nscp -l 80 yourusername@yourserver:/home/yourusername/* .\n```\n\n上面代码中，`scp` 命令占用的带宽限制为每秒 80K 比特位，即每秒 10K 字节。\n\n`-c` 参数用来指定加密算法。\n\n```bash\nscp -c blowfish some_file your_username@remotehost.edu:~\n```\n\n上面代码指定加密算法为 `blowfish`。\n\n`-C` 表示是否在传输时压缩文件。\n\n```bash\nscp -c blowfish -C local_file your_username@remotehost.edu:~\n```\n\n`-q` 参数用来关闭显示拷贝的进度条。\n\n```bash\nscp -q Label.pdf mrarianto@202.x.x.x:.\n```\n\n`-F` 参数用来指定 ssh_config 文件。\n\n```bash\nscp -F /home/pungki/proxy_ssh_config Label.pdf\n```\n\n`-v` 参数用来显示详细的输出。\n\n```bash\nscp -v ~/test.txt root@192.168.1.3:/root/help2356.txt\n```\n\n`-i` 参数用来指定密钥。\n\n```bash\nscp -vCq -i private_key.pem ~/test.txt root@192.168.1.3:/some/path/test.txt\n```\n\n`-r` 参数表示是否以递归方式复制目录。\n","excerpt":"","title":"scp","headers":[{"level":2,"title":"基本用法","slug":"基本用法","link":"#基本用法","children":[{"level":3,"title":"本地文件复制到远程系统","slug":"本地文件复制到远程系统","link":"#本地文件复制到远程系统","children":[]},{"level":3,"title":"远程文件复制到本地","slug":"远程文件复制到本地","link":"#远程文件复制到本地","children":[]},{"level":3,"title":"两个远程系统之间的复制","slug":"两个远程系统之间的复制","link":"#两个远程系统之间的复制","children":[]}]},{"level":2,"title":"参数","slug":"参数","link":"#参数","children":[]}]}}
