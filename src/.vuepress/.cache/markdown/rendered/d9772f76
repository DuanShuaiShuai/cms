{"content":"<p>在安装 Git 一节中，我们已经配置了 <code v-pre>user.name</code> 和 <code v-pre>user.email</code>，实际上，Git 还有很多可配置项。</p>\n<p>比如，让 Git 显示颜色，会让命令输出看起来更醒目:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> color.ui</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span></span></code></pre>\n</div><p>这样，Git 会适当地显示不同的颜色，比如 <code v-pre>git status</code> 命令，文件名就会标上颜色。</p>\n<h2 id=\"配置别名\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#配置别名\"><span>配置别名</span></a></h2>\n<p>有没有经常敲错命令? 比如 <code v-pre>git status</code>? <code v-pre>status</code> 这个单词真心不好记。</p>\n<p>如果敲 <code v-pre>git st</code> 就表示 <code v-pre>git status</code> 那就简单多了，当然这种偷懒的办法我们是极力赞成的。</p>\n<p>我们只需要敲一行命令，告诉 Git，以后 <code v-pre>st</code> 就表示 <code v-pre>status</code>:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.st</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> status</span></span></code></pre>\n</div><p>好了，现在敲 <code v-pre>git st</code> 看看效果。</p>\n<p>当然还有别的命令可以简写，很多人都用 <code v-pre>co</code> 表示 <code v-pre>checkout</code>，<code v-pre>ci</code> 表示 <code v-pre>commit</code>，<code v-pre>br</code> 表示 <code v-pre>branch</code>:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.co</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> checkout</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.ci</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> commit</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.br</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> branch</span></span></code></pre>\n</div><p>以后提交就可以简写成:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ci</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -m</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"bala bala bala...\"</span></span></code></pre>\n</div><p><code v-pre>--global</code> 参数是全局参数，也就是这些命令在这台电脑的所有 Git 仓库下都有用。</p>\n<p>在撤销修改一节中，我们知道，命令 <code v-pre>git reset HEAD file</code> 可以把暂存区的修改撤销掉(unstage)，重新放回工作区。既然是一个 <code v-pre>unstage</code> 操作，就可以配置一个 <code v-pre>unstage</code> 别名:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.unstage</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'reset HEAD'</span></span></code></pre>\n</div><p>当您敲入命令:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> unstage</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> test.py</span></span></code></pre>\n</div><p>实际上 Git 执行的是:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> reset</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> HEAD</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> test.py</span></span></code></pre>\n</div><p>配置一个 <code v-pre>git last</code>，让其显示最后一次提交信息:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.last</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'log -1'</span></span></code></pre>\n</div><p>这样，用 <code v-pre>git last</code> 就能显示最近一次的提交:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> last</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">commit</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> adca45d317e6d8a4b23f9811c3d7b7f0f180bfe2</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Merge:</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> bd6ae48</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 291bea8</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Author:</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Mr-Hope</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &#x3C;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">mister-hope@outlook.co</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">m></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Date:</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">   Thu</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Aug</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 22</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 22:49:22</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2013</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> +0800</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    merge</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &#x26; </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">fix</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> hello.py</span></span></code></pre>\n</div><p>甚至还有人丧心病狂地把 <code v-pre>lg</code> 配置成了:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.lg</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&#x3C;%an>%Creset' --abbrev-commit\"</span></span></code></pre>\n</div><p>来看看 <code v-pre>git lg</code> 的效果:</p>\n<figure><img src=\"@source/software/git/assets/git16.png\" alt=\"命令 git lg 示例图\" tabindex=\"0\" loading=\"lazy\"><figcaption>命令 git lg 示例图</figcaption></figure>\n<p>为什么不早点告诉我? 别激动，咱不是为了多记几个英文单词嘛!</p>\n<h2 id=\"配置文件\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#配置文件\"><span>配置文件</span></a></h2>\n<p>配置 Git 的时候，加上 <code v-pre>--global</code> 是针对当前用户起作用的，如果不加，那只针对当前的仓库起作用。</p>\n<p>配置文件放哪了? 每个仓库的 Git 配置文件都放在 <code v-pre>.git/config</code> 文件中:</p>\n<div class=\"language-sh line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> .git/config</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[core]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    repositoryformatversion</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    filemode</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    bare</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> false</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    logallrefupdates</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    ignorecase</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    precomposeunicode</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[remote </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"origin\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    url</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> git@github.com:michaelliao/learngit.git</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    fetch</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> +refs/heads/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">:refs/remotes/origin/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[branch </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"master\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    remote</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> origin</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    merge</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> refs/heads/master</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[alias]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    last</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> log</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -1</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>别名就在 <code v-pre>[alias]</code> 后面，要删除别名，直接把对应的行删掉即可。</p>\n<p>而当前用户的 Git 配置文件放在用户主目录下的一个隐藏文件 <code v-pre>.gitconfig</code> 中:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> .gitconfig</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[alias]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    co</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> checkout</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    ci</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> commit</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    br</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> branch</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    st</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> status</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[user]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    name</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Your</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Name</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    email</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> your@email.com</span></span></code></pre>\n</div><p>配置别名也可以直接修改这个文件，如果改错了，可以删掉文件重新通过命令配置。</p>\n<h3 id=\"别名小结\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#别名小结\"><span>别名小结</span></a></h3>\n<ul>\n<li>给 Git 配置好别名，就可以输入命令时偷个懒。我们鼓励偷懒。</li>\n</ul>\n","env":{"base":"/","filePath":"/Users/carson/Desktop/Mister-Hope.github.io-main/src/software/git/custom.md","filePathRelative":"software/git/custom.md","frontmatter":{"date":"2020-05-05T00:00:00.000Z","title":"自定义 Git","icon":"skin","order":14,"author":"廖雪峰","category":"Git","tag":["Git","软件"],"copyright":"Copyright by 廖雪峰 Edited by Mister.Duan"},"sfcBlocks":{"template":{"type":"template","content":"<template><p>在安装 Git 一节中，我们已经配置了 <code v-pre>user.name</code> 和 <code v-pre>user.email</code>，实际上，Git 还有很多可配置项。</p>\n<p>比如，让 Git 显示颜色，会让命令输出看起来更醒目:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> color.ui</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span></span></code></pre>\n</div><p>这样，Git 会适当地显示不同的颜色，比如 <code v-pre>git status</code> 命令，文件名就会标上颜色。</p>\n<h2 id=\"配置别名\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#配置别名\"><span>配置别名</span></a></h2>\n<p>有没有经常敲错命令? 比如 <code v-pre>git status</code>? <code v-pre>status</code> 这个单词真心不好记。</p>\n<p>如果敲 <code v-pre>git st</code> 就表示 <code v-pre>git status</code> 那就简单多了，当然这种偷懒的办法我们是极力赞成的。</p>\n<p>我们只需要敲一行命令，告诉 Git，以后 <code v-pre>st</code> 就表示 <code v-pre>status</code>:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.st</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> status</span></span></code></pre>\n</div><p>好了，现在敲 <code v-pre>git st</code> 看看效果。</p>\n<p>当然还有别的命令可以简写，很多人都用 <code v-pre>co</code> 表示 <code v-pre>checkout</code>，<code v-pre>ci</code> 表示 <code v-pre>commit</code>，<code v-pre>br</code> 表示 <code v-pre>branch</code>:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.co</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> checkout</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.ci</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> commit</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.br</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> branch</span></span></code></pre>\n</div><p>以后提交就可以简写成:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ci</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -m</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"bala bala bala...\"</span></span></code></pre>\n</div><p><code v-pre>--global</code> 参数是全局参数，也就是这些命令在这台电脑的所有 Git 仓库下都有用。</p>\n<p>在撤销修改一节中，我们知道，命令 <code v-pre>git reset HEAD file</code> 可以把暂存区的修改撤销掉(unstage)，重新放回工作区。既然是一个 <code v-pre>unstage</code> 操作，就可以配置一个 <code v-pre>unstage</code> 别名:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.unstage</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'reset HEAD'</span></span></code></pre>\n</div><p>当您敲入命令:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> unstage</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> test.py</span></span></code></pre>\n</div><p>实际上 Git 执行的是:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> reset</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> HEAD</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> test.py</span></span></code></pre>\n</div><p>配置一个 <code v-pre>git last</code>，让其显示最后一次提交信息:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.last</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'log -1'</span></span></code></pre>\n</div><p>这样，用 <code v-pre>git last</code> 就能显示最近一次的提交:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> last</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">commit</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> adca45d317e6d8a4b23f9811c3d7b7f0f180bfe2</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Merge:</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> bd6ae48</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 291bea8</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Author:</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Mr-Hope</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &#x3C;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">mister-hope@outlook.co</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">m></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Date:</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">   Thu</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Aug</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 22</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 22:49:22</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2013</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> +0800</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    merge</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &#x26; </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">fix</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> hello.py</span></span></code></pre>\n</div><p>甚至还有人丧心病狂地把 <code v-pre>lg</code> 配置成了:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.lg</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&#x3C;%an>%Creset' --abbrev-commit\"</span></span></code></pre>\n</div><p>来看看 <code v-pre>git lg</code> 的效果:</p>\n<figure><img src=\"@source/software/git/assets/git16.png\" alt=\"命令 git lg 示例图\" tabindex=\"0\" loading=\"lazy\"><figcaption>命令 git lg 示例图</figcaption></figure>\n<p>为什么不早点告诉我? 别激动，咱不是为了多记几个英文单词嘛!</p>\n<h2 id=\"配置文件\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#配置文件\"><span>配置文件</span></a></h2>\n<p>配置 Git 的时候，加上 <code v-pre>--global</code> 是针对当前用户起作用的，如果不加，那只针对当前的仓库起作用。</p>\n<p>配置文件放哪了? 每个仓库的 Git 配置文件都放在 <code v-pre>.git/config</code> 文件中:</p>\n<div class=\"language-sh line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> .git/config</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[core]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    repositoryformatversion</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    filemode</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    bare</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> false</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    logallrefupdates</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    ignorecase</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    precomposeunicode</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[remote </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"origin\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    url</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> git@github.com:michaelliao/learngit.git</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    fetch</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> +refs/heads/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">:refs/remotes/origin/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[branch </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"master\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    remote</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> origin</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    merge</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> refs/heads/master</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[alias]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    last</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> log</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -1</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>别名就在 <code v-pre>[alias]</code> 后面，要删除别名，直接把对应的行删掉即可。</p>\n<p>而当前用户的 Git 配置文件放在用户主目录下的一个隐藏文件 <code v-pre>.gitconfig</code> 中:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> .gitconfig</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[alias]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    co</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> checkout</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    ci</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> commit</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    br</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> branch</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    st</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> status</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[user]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    name</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Your</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Name</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    email</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> your@email.com</span></span></code></pre>\n</div><p>配置别名也可以直接修改这个文件，如果改错了，可以删掉文件重新通过命令配置。</p>\n<h3 id=\"别名小结\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#别名小结\"><span>别名小结</span></a></h3>\n<ul>\n<li>给 Git 配置好别名，就可以输入命令时偷个懒。我们鼓励偷懒。</li>\n</ul>\n</template>","contentStripped":"<p>在安装 Git 一节中，我们已经配置了 <code v-pre>user.name</code> 和 <code v-pre>user.email</code>，实际上，Git 还有很多可配置项。</p>\n<p>比如，让 Git 显示颜色，会让命令输出看起来更醒目:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> color.ui</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span></span></code></pre>\n</div><p>这样，Git 会适当地显示不同的颜色，比如 <code v-pre>git status</code> 命令，文件名就会标上颜色。</p>\n<h2 id=\"配置别名\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#配置别名\"><span>配置别名</span></a></h2>\n<p>有没有经常敲错命令? 比如 <code v-pre>git status</code>? <code v-pre>status</code> 这个单词真心不好记。</p>\n<p>如果敲 <code v-pre>git st</code> 就表示 <code v-pre>git status</code> 那就简单多了，当然这种偷懒的办法我们是极力赞成的。</p>\n<p>我们只需要敲一行命令，告诉 Git，以后 <code v-pre>st</code> 就表示 <code v-pre>status</code>:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.st</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> status</span></span></code></pre>\n</div><p>好了，现在敲 <code v-pre>git st</code> 看看效果。</p>\n<p>当然还有别的命令可以简写，很多人都用 <code v-pre>co</code> 表示 <code v-pre>checkout</code>，<code v-pre>ci</code> 表示 <code v-pre>commit</code>，<code v-pre>br</code> 表示 <code v-pre>branch</code>:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.co</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> checkout</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.ci</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> commit</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.br</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> branch</span></span></code></pre>\n</div><p>以后提交就可以简写成:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ci</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -m</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"bala bala bala...\"</span></span></code></pre>\n</div><p><code v-pre>--global</code> 参数是全局参数，也就是这些命令在这台电脑的所有 Git 仓库下都有用。</p>\n<p>在撤销修改一节中，我们知道，命令 <code v-pre>git reset HEAD file</code> 可以把暂存区的修改撤销掉(unstage)，重新放回工作区。既然是一个 <code v-pre>unstage</code> 操作，就可以配置一个 <code v-pre>unstage</code> 别名:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.unstage</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'reset HEAD'</span></span></code></pre>\n</div><p>当您敲入命令:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> unstage</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> test.py</span></span></code></pre>\n</div><p>实际上 Git 执行的是:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> reset</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> HEAD</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> test.py</span></span></code></pre>\n</div><p>配置一个 <code v-pre>git last</code>，让其显示最后一次提交信息:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.last</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 'log -1'</span></span></code></pre>\n</div><p>这样，用 <code v-pre>git last</code> 就能显示最近一次的提交:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> last</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">commit</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> adca45d317e6d8a4b23f9811c3d7b7f0f180bfe2</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Merge:</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> bd6ae48</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 291bea8</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Author:</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Mr-Hope</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &#x3C;</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">mister-hope@outlook.co</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">m></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">Date:</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">   Thu</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Aug</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 22</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 22:49:22</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 2013</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> +0800</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    merge</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &#x26; </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">fix</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> hello.py</span></span></code></pre>\n</div><p>甚至还有人丧心病狂地把 <code v-pre>lg</code> 配置成了:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">git</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> config</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --global</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> alias.lg</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&#x3C;%an>%Creset' --abbrev-commit\"</span></span></code></pre>\n</div><p>来看看 <code v-pre>git lg</code> 的效果:</p>\n<figure><img src=\"@source/software/git/assets/git16.png\" alt=\"命令 git lg 示例图\" tabindex=\"0\" loading=\"lazy\"><figcaption>命令 git lg 示例图</figcaption></figure>\n<p>为什么不早点告诉我? 别激动，咱不是为了多记几个英文单词嘛!</p>\n<h2 id=\"配置文件\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#配置文件\"><span>配置文件</span></a></h2>\n<p>配置 Git 的时候，加上 <code v-pre>--global</code> 是针对当前用户起作用的，如果不加，那只针对当前的仓库起作用。</p>\n<p>配置文件放哪了? 每个仓库的 Git 配置文件都放在 <code v-pre>.git/config</code> 文件中:</p>\n<div class=\"language-sh line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> .git/config</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[core]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    repositoryformatversion</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    filemode</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    bare</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> false</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    logallrefupdates</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    ignorecase</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    precomposeunicode</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[remote </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"origin\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    url</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> git@github.com:michaelliao/learngit.git</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    fetch</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> +refs/heads/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">:refs/remotes/origin/</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[branch </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">\"master\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    remote</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> origin</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    merge</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> refs/heads/master</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[alias]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    last</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> log</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -1</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>别名就在 <code v-pre>[alias]</code> 后面，要删除别名，直接把对应的行删掉即可。</p>\n<p>而当前用户的 Git 配置文件放在用户主目录下的一个隐藏文件 <code v-pre>.gitconfig</code> 中:</p>\n<div class=\"language-sh\" data-highlighter=\"shiki\" data-ext=\"sh\" data-title=\"sh\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> .gitconfig</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[alias]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    co</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> checkout</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    ci</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> commit</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    br</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> branch</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    st</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> status</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">[user]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    name</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Your</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> Name</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    email</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> =</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> your@email.com</span></span></code></pre>\n</div><p>配置别名也可以直接修改这个文件，如果改错了，可以删掉文件重新通过命令配置。</p>\n<h3 id=\"别名小结\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#别名小结\"><span>别名小结</span></a></h3>\n<ul>\n<li>给 Git 配置好别名，就可以输入命令时偷个懒。我们鼓励偷懒。</li>\n</ul>\n","tagOpen":"<template>","tagClose":"</template>"},"script":null,"scriptSetup":null,"scripts":[],"styles":[],"customBlocks":[]},"content":"\n在安装 Git 一节中，我们已经配置了 `user.name` 和 `user.email`，实际上，Git 还有很多可配置项。\n\n比如，让 Git 显示颜色，会让命令输出看起来更醒目:\n\n```sh\ngit config --global color.ui true\n```\n\n这样，Git 会适当地显示不同的颜色，比如 `git status` 命令，文件名就会标上颜色。\n\n## 配置别名\n\n有没有经常敲错命令? 比如 `git status`? `status` 这个单词真心不好记。\n\n如果敲 `git st` 就表示 `git status` 那就简单多了，当然这种偷懒的办法我们是极力赞成的。\n\n我们只需要敲一行命令，告诉 Git，以后 `st` 就表示 `status`:\n\n```sh\ngit config --global alias.st status\n```\n\n好了，现在敲 `git st` 看看效果。\n\n当然还有别的命令可以简写，很多人都用 `co` 表示 `checkout`，`ci` 表示 `commit`，`br` 表示 `branch`:\n\n```sh\ngit config --global alias.co checkout\ngit config --global alias.ci commit\ngit config --global alias.br branch\n```\n\n以后提交就可以简写成:\n\n```sh\ngit ci -m \"bala bala bala...\"\n```\n\n`--global` 参数是全局参数，也就是这些命令在这台电脑的所有 Git 仓库下都有用。\n\n在撤销修改一节中，我们知道，命令 `git reset HEAD file` 可以把暂存区的修改撤销掉(unstage)，重新放回工作区。既然是一个 `unstage` 操作，就可以配置一个 `unstage` 别名:\n\n```sh\ngit config --global alias.unstage 'reset HEAD'\n```\n\n当您敲入命令:\n\n```sh\ngit unstage test.py\n```\n\n实际上 Git 执行的是:\n\n```sh\ngit reset HEAD test.py\n```\n\n配置一个 `git last`，让其显示最后一次提交信息:\n\n```sh\ngit config --global alias.last 'log -1'\n```\n\n这样，用 `git last` 就能显示最近一次的提交:\n\n```sh\n$ git last\ncommit adca45d317e6d8a4b23f9811c3d7b7f0f180bfe2\nMerge: bd6ae48 291bea8\nAuthor: Mr-Hope <mister-hope@outlook.com>\nDate:   Thu Aug 22 22:49:22 2013 +0800\n\n    merge & fix hello.py\n```\n\n甚至还有人丧心病狂地把 `lg` 配置成了:\n\n```sh\ngit config --global alias.lg \"log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit\"\n```\n\n来看看 `git lg` 的效果:\n\n![命令 git lg 示例图](./assets/git16.png)\n\n为什么不早点告诉我? 别激动，咱不是为了多记几个英文单词嘛!\n\n## 配置文件\n\n配置 Git 的时候，加上 `--global` 是针对当前用户起作用的，如果不加，那只针对当前的仓库起作用。\n\n配置文件放哪了? 每个仓库的 Git 配置文件都放在 `.git/config` 文件中:\n\n```sh\n$ cat .git/config\n[core]\n    repositoryformatversion = 0\n    filemode = true\n    bare = false\n    logallrefupdates = true\n    ignorecase = true\n    precomposeunicode = true\n[remote \"origin\"]\n    url = git@github.com:michaelliao/learngit.git\n    fetch = +refs/heads/*:refs/remotes/origin/*\n[branch \"master\"]\n    remote = origin\n    merge = refs/heads/master\n[alias]\n    last = log -1\n```\n\n别名就在 `[alias]` 后面，要删除别名，直接把对应的行删掉即可。\n\n而当前用户的 Git 配置文件放在用户主目录下的一个隐藏文件 `.gitconfig` 中:\n\n```sh\n$ cat .gitconfig\n[alias]\n    co = checkout\n    ci = commit\n    br = branch\n    st = status\n[user]\n    name = Your Name\n    email = your@email.com\n```\n\n配置别名也可以直接修改这个文件，如果改错了，可以删掉文件重新通过命令配置。\n\n### 别名小结\n\n- 给 Git 配置好别名，就可以输入命令时偷个懒。我们鼓励偷懒。\n","excerpt":"","title":"","headers":[{"level":2,"title":"配置别名","slug":"配置别名","link":"#配置别名","children":[]},{"level":2,"title":"配置文件","slug":"配置文件","link":"#配置文件","children":[{"level":3,"title":"别名小结","slug":"别名小结","link":"#别名小结","children":[]}]}]}}
