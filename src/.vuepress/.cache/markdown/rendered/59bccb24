{"content":"<h1 id=\"文本处理\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#文本处理\"><span>文本处理</span></a></h1>\n<h2 id=\"cat\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#cat\"><span>cat</span></a></h2>\n<p><code v-pre>cat</code> 可以文件的内容，显示在标准输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> text1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">1</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> apple</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">2</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pear</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">3</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> banana</span></span></code></pre>\n</div><p>它也可以同时输出多个文件内容。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> text1</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> text2</span></span></code></pre>\n</div><p>它与重定向结合，就可以合并多个文件。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 合并文本文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> text</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> > </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">text.all</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 合并二进制文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> movie.mpeg.0</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> > </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">movie.mpeg</span></span></code></pre>\n</div><p>如果调用 <code v-pre>cat</code> 命令时没有任何参数，它将读取标准输入，然后显示到标准输出。按下 <code v-pre>Ctrl + d</code>，将会结束 <code v-pre>cat</code> 读取标准输入。利用这一点，可以将键盘输入写入指定文件，按下 <code v-pre>Ctrl + d</code> 结束输入。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">cat</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> > </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">lazy_dog.txt</span></span></code></pre>\n</div><p>它的参数如下。</p>\n<ul>\n<li><code v-pre>-n</code> 输出结果显示行号</li>\n<li><code v-pre>-s</code> 将多个连续的空白行，输出为一行</li>\n<li><code v-pre>-A</code> 输出结果中显示控制符，比如 Tab 键显示为 <code v-pre>^I</code>，行尾显示<code v-pre>$</code></li>\n</ul>\n<p><code v-pre>cat</code> 支持 Here document，显示多行文本。</p>\n<div class=\"language-bash line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">cat</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &#x3C;&#x3C; </span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">_EOF_</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">&#x3C;HTML></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">         &#x3C;HEAD></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">                &#x3C;TITLE></span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">$TITLE</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">&#x3C;/TITLE></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">         &#x3C;/HEAD></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">         &#x3C;BODY></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">                &#x3C;H1></span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">$TITLE</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">&#x3C;/H1></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">                &#x3C;P></span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">$TIME_STAMP</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">&#x3C;/P></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">         &#x3C;/BODY></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">&#x3C;/HTML></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">_EOF_</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>Here document 常在脚本当中作为输入的手段。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sort</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -k2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &#x3C;&#x3C;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">END</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">> 1 apple</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">> 2 pear</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">> 3 banana</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">> END</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">1 apple</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">3 banana</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">2 pear</span></span></code></pre>\n</div><p>如果使用 <code v-pre>&lt;&lt;-</code> 代替 <code v-pre>&lt;&lt;</code>，行首的 tab 键将被剥离。</p>\n<h2 id=\"nl\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#nl\"><span>nl</span></a></h2>\n<p><code v-pre>nl</code> 命令为文本文件添加行号，显示在标准输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">nl</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> example.txt</span></span></code></pre>\n</div><h2 id=\"sort\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#sort\"><span>sort</span></a></h2>\n<p><code v-pre>sort</code> 命令将文本文件的所有行排序后输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sort</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> file1.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> file2.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> file3.txt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> > </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">final_sorted_list.txt</span></span></code></pre>\n</div><p>它的参数如下。</p>\n<ul>\n<li><code v-pre>-b</code> <code v-pre>--ignore-leading-blanks</code> 默认情况下，排序用的是每行的第一个字符。这个参数忽略每行开头的空格，从第一个非空白字符开始排序。</li>\n<li><code v-pre>-f</code> <code v-pre>--ignore-case</code> 让排序不区分大小写。</li>\n<li><code v-pre>-n</code> <code v-pre>--numeric-sort</code> 按照数值排序，而不是字符值，用于行首是数值的情况。</li>\n<li><code v-pre>-r</code> <code v-pre>--reverse</code> 按相反顺序排序。结果按照降序排列，而不是升序。</li>\n<li><code v-pre>-k</code> <code v-pre>--key=field1[,field2]</code> 指定按照每行的第几个字段(从 1 开始)排序，而不是按照行首字符排序。该属性可以多个连用，用于指定多重排序标准，还可以指定每个字段指定排序标准，这些值与全局属性一致，比如 b(忽略开头的空格)，n(数值排序)，r(逆向排序)等等。</li>\n<li><code v-pre>-m</code> <code v-pre>--merge</code> 把每个参数看作是一个预先排好序的文件。把多个文件合并成一个排好序的文件，而没有执行额外的排序。</li>\n<li><code v-pre>-o</code> <code v-pre>--output=file</code> 把排好序的输出结果发送到文件，而不是标准输出。</li>\n<li><code v-pre>-t</code> <code v-pre>--field-separator=char</code> 定义字段分隔字符。默认情况下，字段由空格或制表符分隔。</li>\n<li><code v-pre>-u</code> 输出结果中删除重复行</li>\n</ul>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sort</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --key=1,1</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --key=2n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span></code></pre>\n</div><p>上面命令中，第一个 <code v-pre>--key</code> 指定第一排序标准是只用第一字段(<code v-pre>1,1</code>)，也可以指定使用第一字段第一个字符(<code v-pre>1.1</code>)；第二排序标准是第二字段，按数值排序。</p>\n<h2 id=\"uniq\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#uniq\"><span>uniq</span></a></h2>\n<p><code v-pre>uniq</code> 命令在排序后的行中，删除所有重复的行，保证所有输出没有重复。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">ls</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /bin</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /usr/bin</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sort</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">uniq</span></span></code></pre>\n</div><p>它的参数如下。</p>\n<ul>\n<li><code v-pre>-c</code> 输出所有的重复行，并且每行开头显示重复的次数。</li>\n<li><code v-pre>-d</code> 只输出重复行，而不是不重复的文本行。</li>\n<li><code v-pre>-f n</code> 忽略每行开头的 n 个字段，字段之间由空格分隔，正如 sort 程序中的空格分隔符；然而， 不同于 sort 程序，uniq 没有选项来设置备用的字段分隔符。</li>\n<li><code v-pre>-i</code> 在比较文本行的时候忽略大小写。</li>\n<li><code v-pre>-s n</code> 跳过(忽略)每行开头的 n 个字符。</li>\n<li><code v-pre>-u</code> 只是输出独有的文本行。这是默认的。</li>\n<li><code v-pre>-V</code> 按照版本号排序。</li>\n</ul>\n<p><code v-pre>-V</code> 参数可以按版本号排列(从小到大)。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sort</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -V</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> input.txt</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">1.0.15</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">1.3.0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">2.1.2</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">3.0.0</span></span></code></pre>\n</div><p><code v-pre>-rV</code> 参数可以按版本号逆序排列。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sort</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -rV</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> input.txt</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">3.0.0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">2.1.2</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">1.3.0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">1.0.15</span></span></code></pre>\n</div><h2 id=\"cut\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#cut\"><span>cut</span></a></h2>\n<p><code v-pre>cut</code> 程序用来从文本行中抽取文本，并把其输出到标准输出。它能够接受多个文件参数或者标准输入。</p>\n<p>它的参数如下。</p>\n<ul>\n<li><code v-pre>-c char_list</code> 抽取指定范围的文本</li>\n<li><code v-pre>-f field_list</code> 抽取指定字段，字段之间可以 tab 分隔也可以逗号分隔</li>\n<li><code v-pre>-d delim_char</code> 指定字段分隔符，默认是 tab 键</li>\n<li><code v-pre>--complement</code> 抽取整个文本行，除了那些由-c 和／或-f 选项指定的文本。</li>\n</ul>\n<div class=\"language-bash line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 抽取每行的第三个字段</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cut</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -f</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 3</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 抽取每行的第7到第10个字符</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cut</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -c</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 7-10</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 抽取每行的第23个到结尾的字符1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cut</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -c</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 23-</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 指定字段分隔符为冒号</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cut</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -d</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ':'</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -f</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /etc/passwd</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"paste\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#paste\"><span>paste</span></a></h2>\n<p><code v-pre>paste</code> 程序将多个文本文件按行合并，即每一行都由原来文本文件的每一行组成，显示在标准输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">paste</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros-dates.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros-versions.txt</span></span></code></pre>\n</div><h2 id=\"wc\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#wc\"><span>wc</span></a></h2>\n<p><code v-pre>wc</code> 命令输出一个文本文件的统计信息(word count)，一共有三个值，分别为行数、词数和字节数。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> wc</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ls-output.txt</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> 7902</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 64566</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 503634</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ls-output.txt</span></span></code></pre>\n</div><p>如果使用 <code v-pre>-l</code> 参数，则只输出行数。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ls</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /bin</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /usr/bin</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sort</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">uniq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">wc</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -l</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> 2728</span></span></code></pre>\n</div><h2 id=\"head\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#head\"><span>head</span></a></h2>\n<p><code v-pre>head</code> 命令返回文本文件的头部，默认显示 10 行。</p>\n<p><code v-pre>-n</code> 参数指定显示的行数。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">head</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -n</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 5</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ls-output.txt</span></span></code></pre>\n</div><h2 id=\"tail\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#tail\"><span>tail</span></a></h2>\n<p><code v-pre>tail</code> 命令返回文本文件的尾部，默认显示 10 行。</p>\n<p><code v-pre>-n</code> 参数指定显示的行数。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">tail</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -n</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 5</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ls-output.txt</span></span></code></pre>\n</div><p><code v-pre>-f</code> 会实时追加显示新增的内容，常用于实时监控日志，按 <code v-pre>Ctrl + c</code> 停止。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">tail</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /var/log/messages</span></span></code></pre>\n</div><h2 id=\"grep\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#grep\"><span>grep</span></a></h2>\n<p><code v-pre>grep</code> 程序用于在指定文件之中，搜索符合某个模式的行，并把搜索结果输出到标准输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">grep</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> keyword</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> foo.txt</span></span></code></pre>\n</div><p>上面命令输出 <code v-pre>foo.txt</code> 之中匹配 <code v-pre>keyword</code> 的行。</p>\n<p><code v-pre>grep</code> 程序可以同时搜索多个文件。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">grep</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> keyword</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> f</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">.txt</span></span></code></pre>\n</div><p>上面命令输出多个文件中匹配 <code v-pre>keyword</code> 的行。</p>\n<p><code v-pre>-l</code> 参数输出匹配的文件名，而不是文件行。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">grep</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -l</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> bzip</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> dirlist</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">.txt</span></span></code></pre>\n</div><p>如果想搜索文件名，而不是文件内容，可以使用重定向。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">ls</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /usr/bin</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">grep</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> zip</span></span></code></pre>\n</div><p>上面命令会输出<code v-pre>/usr/bin</code> 目录中，文件名中包含子字符串 <code v-pre>zip</code> 的所有文件。</p>\n<p>参数的含义。</p>\n<ul>\n<li><code v-pre>-c</code> 或 <code v-pre>--count</code> 输出匹配的数量，而不是匹配的文本行。如果使用了 <code v-pre>-v</code>，则输出不匹配的数量。</li>\n<li><code v-pre>-h</code> 或 <code v-pre>--no-filename</code> 应用于多文件搜索，不在每行匹配的文本前，输出文件名</li>\n<li><code v-pre>-i</code> 或 <code v-pre>--ignore-case</code> 忽略大小写</li>\n<li><code v-pre>-l</code> 或 <code v-pre>--files-with-matches</code> 输出包含匹配项的文件名，而不是文本行本身</li>\n<li><code v-pre>-L</code> 或 <code v-pre>--files-without-match</code> 类似于 <code v-pre>-l</code>，但输出不包含匹配项的文件名</li>\n<li><code v-pre>-n</code> 或 <code v-pre>--line-number</code> 每个匹配行之前输出其对应的行号</li>\n<li><code v-pre>-v</code> 或 <code v-pre>--invert-match</code> 只返回不符合模式的行</li>\n</ul>\n<h2 id=\"sed\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#sed\"><span>sed</span></a></h2>\n<p><code v-pre>sed</code> 是一个强大的文本编辑工具。</p>\n<div class=\"language-bash line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 输出前5行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sed</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '1,5p'</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 输出包含指定内容的行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sed</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '/SUSE/p'</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 输出不包含指定内容的行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sed</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '/SUSE/!p'</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 替换内容(只替换第一个)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sed</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 's/regexp/replacement/'</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 替换内容(全局替换)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sed</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 's/regexp/replacement/g'</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","env":{"base":"/","filePath":"/Users/carson/Desktop/Mister-Hope.github.io-main/src/linux/bash/archives/text.md","filePathRelative":"linux/bash/archives/text.md","frontmatter":{"date":"2020-06-04T00:00:00.000Z"},"sfcBlocks":{"template":{"type":"template","content":"<template><h1 id=\"文本处理\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#文本处理\"><span>文本处理</span></a></h1>\n<h2 id=\"cat\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#cat\"><span>cat</span></a></h2>\n<p><code v-pre>cat</code> 可以文件的内容，显示在标准输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> text1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">1</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> apple</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">2</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pear</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">3</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> banana</span></span></code></pre>\n</div><p>它也可以同时输出多个文件内容。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> text1</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> text2</span></span></code></pre>\n</div><p>它与重定向结合，就可以合并多个文件。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 合并文本文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> text</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> > </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">text.all</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 合并二进制文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> movie.mpeg.0</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> > </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">movie.mpeg</span></span></code></pre>\n</div><p>如果调用 <code v-pre>cat</code> 命令时没有任何参数，它将读取标准输入，然后显示到标准输出。按下 <code v-pre>Ctrl + d</code>，将会结束 <code v-pre>cat</code> 读取标准输入。利用这一点，可以将键盘输入写入指定文件，按下 <code v-pre>Ctrl + d</code> 结束输入。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">cat</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> > </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">lazy_dog.txt</span></span></code></pre>\n</div><p>它的参数如下。</p>\n<ul>\n<li><code v-pre>-n</code> 输出结果显示行号</li>\n<li><code v-pre>-s</code> 将多个连续的空白行，输出为一行</li>\n<li><code v-pre>-A</code> 输出结果中显示控制符，比如 Tab 键显示为 <code v-pre>^I</code>，行尾显示<code v-pre>$</code></li>\n</ul>\n<p><code v-pre>cat</code> 支持 Here document，显示多行文本。</p>\n<div class=\"language-bash line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">cat</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &#x3C;&#x3C; </span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">_EOF_</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">&#x3C;HTML></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">         &#x3C;HEAD></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">                &#x3C;TITLE></span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">$TITLE</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">&#x3C;/TITLE></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">         &#x3C;/HEAD></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">         &#x3C;BODY></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">                &#x3C;H1></span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">$TITLE</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">&#x3C;/H1></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">                &#x3C;P></span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">$TIME_STAMP</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">&#x3C;/P></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">         &#x3C;/BODY></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">&#x3C;/HTML></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">_EOF_</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>Here document 常在脚本当中作为输入的手段。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sort</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -k2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &#x3C;&#x3C;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">END</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">> 1 apple</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">> 2 pear</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">> 3 banana</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">> END</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">1 apple</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">3 banana</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">2 pear</span></span></code></pre>\n</div><p>如果使用 <code v-pre>&lt;&lt;-</code> 代替 <code v-pre>&lt;&lt;</code>，行首的 tab 键将被剥离。</p>\n<h2 id=\"nl\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#nl\"><span>nl</span></a></h2>\n<p><code v-pre>nl</code> 命令为文本文件添加行号，显示在标准输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">nl</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> example.txt</span></span></code></pre>\n</div><h2 id=\"sort\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#sort\"><span>sort</span></a></h2>\n<p><code v-pre>sort</code> 命令将文本文件的所有行排序后输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sort</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> file1.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> file2.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> file3.txt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> > </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">final_sorted_list.txt</span></span></code></pre>\n</div><p>它的参数如下。</p>\n<ul>\n<li><code v-pre>-b</code> <code v-pre>--ignore-leading-blanks</code> 默认情况下，排序用的是每行的第一个字符。这个参数忽略每行开头的空格，从第一个非空白字符开始排序。</li>\n<li><code v-pre>-f</code> <code v-pre>--ignore-case</code> 让排序不区分大小写。</li>\n<li><code v-pre>-n</code> <code v-pre>--numeric-sort</code> 按照数值排序，而不是字符值，用于行首是数值的情况。</li>\n<li><code v-pre>-r</code> <code v-pre>--reverse</code> 按相反顺序排序。结果按照降序排列，而不是升序。</li>\n<li><code v-pre>-k</code> <code v-pre>--key=field1[,field2]</code> 指定按照每行的第几个字段(从 1 开始)排序，而不是按照行首字符排序。该属性可以多个连用，用于指定多重排序标准，还可以指定每个字段指定排序标准，这些值与全局属性一致，比如 b(忽略开头的空格)，n(数值排序)，r(逆向排序)等等。</li>\n<li><code v-pre>-m</code> <code v-pre>--merge</code> 把每个参数看作是一个预先排好序的文件。把多个文件合并成一个排好序的文件，而没有执行额外的排序。</li>\n<li><code v-pre>-o</code> <code v-pre>--output=file</code> 把排好序的输出结果发送到文件，而不是标准输出。</li>\n<li><code v-pre>-t</code> <code v-pre>--field-separator=char</code> 定义字段分隔字符。默认情况下，字段由空格或制表符分隔。</li>\n<li><code v-pre>-u</code> 输出结果中删除重复行</li>\n</ul>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sort</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --key=1,1</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --key=2n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span></code></pre>\n</div><p>上面命令中，第一个 <code v-pre>--key</code> 指定第一排序标准是只用第一字段(<code v-pre>1,1</code>)，也可以指定使用第一字段第一个字符(<code v-pre>1.1</code>)；第二排序标准是第二字段，按数值排序。</p>\n<h2 id=\"uniq\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#uniq\"><span>uniq</span></a></h2>\n<p><code v-pre>uniq</code> 命令在排序后的行中，删除所有重复的行，保证所有输出没有重复。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">ls</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /bin</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /usr/bin</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sort</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">uniq</span></span></code></pre>\n</div><p>它的参数如下。</p>\n<ul>\n<li><code v-pre>-c</code> 输出所有的重复行，并且每行开头显示重复的次数。</li>\n<li><code v-pre>-d</code> 只输出重复行，而不是不重复的文本行。</li>\n<li><code v-pre>-f n</code> 忽略每行开头的 n 个字段，字段之间由空格分隔，正如 sort 程序中的空格分隔符；然而， 不同于 sort 程序，uniq 没有选项来设置备用的字段分隔符。</li>\n<li><code v-pre>-i</code> 在比较文本行的时候忽略大小写。</li>\n<li><code v-pre>-s n</code> 跳过(忽略)每行开头的 n 个字符。</li>\n<li><code v-pre>-u</code> 只是输出独有的文本行。这是默认的。</li>\n<li><code v-pre>-V</code> 按照版本号排序。</li>\n</ul>\n<p><code v-pre>-V</code> 参数可以按版本号排列(从小到大)。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sort</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -V</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> input.txt</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">1.0.15</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">1.3.0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">2.1.2</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">3.0.0</span></span></code></pre>\n</div><p><code v-pre>-rV</code> 参数可以按版本号逆序排列。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sort</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -rV</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> input.txt</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">3.0.0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">2.1.2</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">1.3.0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">1.0.15</span></span></code></pre>\n</div><h2 id=\"cut\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#cut\"><span>cut</span></a></h2>\n<p><code v-pre>cut</code> 程序用来从文本行中抽取文本，并把其输出到标准输出。它能够接受多个文件参数或者标准输入。</p>\n<p>它的参数如下。</p>\n<ul>\n<li><code v-pre>-c char_list</code> 抽取指定范围的文本</li>\n<li><code v-pre>-f field_list</code> 抽取指定字段，字段之间可以 tab 分隔也可以逗号分隔</li>\n<li><code v-pre>-d delim_char</code> 指定字段分隔符，默认是 tab 键</li>\n<li><code v-pre>--complement</code> 抽取整个文本行，除了那些由-c 和／或-f 选项指定的文本。</li>\n</ul>\n<div class=\"language-bash line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 抽取每行的第三个字段</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cut</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -f</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 3</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 抽取每行的第7到第10个字符</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cut</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -c</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 7-10</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 抽取每行的第23个到结尾的字符1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cut</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -c</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 23-</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 指定字段分隔符为冒号</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cut</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -d</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ':'</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -f</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /etc/passwd</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"paste\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#paste\"><span>paste</span></a></h2>\n<p><code v-pre>paste</code> 程序将多个文本文件按行合并，即每一行都由原来文本文件的每一行组成，显示在标准输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">paste</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros-dates.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros-versions.txt</span></span></code></pre>\n</div><h2 id=\"wc\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#wc\"><span>wc</span></a></h2>\n<p><code v-pre>wc</code> 命令输出一个文本文件的统计信息(word count)，一共有三个值，分别为行数、词数和字节数。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> wc</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ls-output.txt</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> 7902</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 64566</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 503634</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ls-output.txt</span></span></code></pre>\n</div><p>如果使用 <code v-pre>-l</code> 参数，则只输出行数。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ls</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /bin</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /usr/bin</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sort</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">uniq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">wc</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -l</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> 2728</span></span></code></pre>\n</div><h2 id=\"head\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#head\"><span>head</span></a></h2>\n<p><code v-pre>head</code> 命令返回文本文件的头部，默认显示 10 行。</p>\n<p><code v-pre>-n</code> 参数指定显示的行数。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">head</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -n</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 5</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ls-output.txt</span></span></code></pre>\n</div><h2 id=\"tail\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#tail\"><span>tail</span></a></h2>\n<p><code v-pre>tail</code> 命令返回文本文件的尾部，默认显示 10 行。</p>\n<p><code v-pre>-n</code> 参数指定显示的行数。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">tail</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -n</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 5</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ls-output.txt</span></span></code></pre>\n</div><p><code v-pre>-f</code> 会实时追加显示新增的内容，常用于实时监控日志，按 <code v-pre>Ctrl + c</code> 停止。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">tail</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /var/log/messages</span></span></code></pre>\n</div><h2 id=\"grep\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#grep\"><span>grep</span></a></h2>\n<p><code v-pre>grep</code> 程序用于在指定文件之中，搜索符合某个模式的行，并把搜索结果输出到标准输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">grep</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> keyword</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> foo.txt</span></span></code></pre>\n</div><p>上面命令输出 <code v-pre>foo.txt</code> 之中匹配 <code v-pre>keyword</code> 的行。</p>\n<p><code v-pre>grep</code> 程序可以同时搜索多个文件。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">grep</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> keyword</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> f</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">.txt</span></span></code></pre>\n</div><p>上面命令输出多个文件中匹配 <code v-pre>keyword</code> 的行。</p>\n<p><code v-pre>-l</code> 参数输出匹配的文件名，而不是文件行。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">grep</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -l</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> bzip</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> dirlist</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">.txt</span></span></code></pre>\n</div><p>如果想搜索文件名，而不是文件内容，可以使用重定向。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">ls</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /usr/bin</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">grep</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> zip</span></span></code></pre>\n</div><p>上面命令会输出<code v-pre>/usr/bin</code> 目录中，文件名中包含子字符串 <code v-pre>zip</code> 的所有文件。</p>\n<p>参数的含义。</p>\n<ul>\n<li><code v-pre>-c</code> 或 <code v-pre>--count</code> 输出匹配的数量，而不是匹配的文本行。如果使用了 <code v-pre>-v</code>，则输出不匹配的数量。</li>\n<li><code v-pre>-h</code> 或 <code v-pre>--no-filename</code> 应用于多文件搜索，不在每行匹配的文本前，输出文件名</li>\n<li><code v-pre>-i</code> 或 <code v-pre>--ignore-case</code> 忽略大小写</li>\n<li><code v-pre>-l</code> 或 <code v-pre>--files-with-matches</code> 输出包含匹配项的文件名，而不是文本行本身</li>\n<li><code v-pre>-L</code> 或 <code v-pre>--files-without-match</code> 类似于 <code v-pre>-l</code>，但输出不包含匹配项的文件名</li>\n<li><code v-pre>-n</code> 或 <code v-pre>--line-number</code> 每个匹配行之前输出其对应的行号</li>\n<li><code v-pre>-v</code> 或 <code v-pre>--invert-match</code> 只返回不符合模式的行</li>\n</ul>\n<h2 id=\"sed\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#sed\"><span>sed</span></a></h2>\n<p><code v-pre>sed</code> 是一个强大的文本编辑工具。</p>\n<div class=\"language-bash line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 输出前5行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sed</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '1,5p'</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 输出包含指定内容的行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sed</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '/SUSE/p'</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 输出不包含指定内容的行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sed</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '/SUSE/!p'</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 替换内容(只替换第一个)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sed</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 's/regexp/replacement/'</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 替换内容(全局替换)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sed</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 's/regexp/replacement/g'</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></template>","contentStripped":"<h1 id=\"文本处理\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#文本处理\"><span>文本处理</span></a></h1>\n<h2 id=\"cat\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#cat\"><span>cat</span></a></h2>\n<p><code v-pre>cat</code> 可以文件的内容，显示在标准输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> text1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">1</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> apple</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">2</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pear</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">3</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> banana</span></span></code></pre>\n</div><p>它也可以同时输出多个文件内容。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> text1</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> text2</span></span></code></pre>\n</div><p>它与重定向结合，就可以合并多个文件。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 合并文本文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> text</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> > </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">text.all</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 合并二进制文件</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cat</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> movie.mpeg.0</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> > </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">movie.mpeg</span></span></code></pre>\n</div><p>如果调用 <code v-pre>cat</code> 命令时没有任何参数，它将读取标准输入，然后显示到标准输出。按下 <code v-pre>Ctrl + d</code>，将会结束 <code v-pre>cat</code> 读取标准输入。利用这一点，可以将键盘输入写入指定文件，按下 <code v-pre>Ctrl + d</code> 结束输入。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">cat</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> > </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">lazy_dog.txt</span></span></code></pre>\n</div><p>它的参数如下。</p>\n<ul>\n<li><code v-pre>-n</code> 输出结果显示行号</li>\n<li><code v-pre>-s</code> 将多个连续的空白行，输出为一行</li>\n<li><code v-pre>-A</code> 输出结果中显示控制符，比如 Tab 键显示为 <code v-pre>^I</code>，行尾显示<code v-pre>$</code></li>\n</ul>\n<p><code v-pre>cat</code> 支持 Here document，显示多行文本。</p>\n<div class=\"language-bash line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">cat</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &#x3C;&#x3C; </span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">_EOF_</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">&#x3C;HTML></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">         &#x3C;HEAD></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">                &#x3C;TITLE></span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">$TITLE</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">&#x3C;/TITLE></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">         &#x3C;/HEAD></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">         &#x3C;BODY></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">                &#x3C;H1></span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">$TITLE</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">&#x3C;/H1></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">                &#x3C;P></span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">$TIME_STAMP</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">&#x3C;/P></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">         &#x3C;/BODY></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">&#x3C;/HTML></span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">_EOF_</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>Here document 常在脚本当中作为输入的手段。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sort</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -k2</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> &#x3C;&#x3C;</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">END</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">> 1 apple</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">> 2 pear</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">> 3 banana</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">> END</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">1 apple</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">3 banana</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">2 pear</span></span></code></pre>\n</div><p>如果使用 <code v-pre>&lt;&lt;-</code> 代替 <code v-pre>&lt;&lt;</code>，行首的 tab 键将被剥离。</p>\n<h2 id=\"nl\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#nl\"><span>nl</span></a></h2>\n<p><code v-pre>nl</code> 命令为文本文件添加行号，显示在标准输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">nl</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> example.txt</span></span></code></pre>\n</div><h2 id=\"sort\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#sort\"><span>sort</span></a></h2>\n<p><code v-pre>sort</code> 命令将文本文件的所有行排序后输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sort</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> file1.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> file2.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> file3.txt</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> > </span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">final_sorted_list.txt</span></span></code></pre>\n</div><p>它的参数如下。</p>\n<ul>\n<li><code v-pre>-b</code> <code v-pre>--ignore-leading-blanks</code> 默认情况下，排序用的是每行的第一个字符。这个参数忽略每行开头的空格，从第一个非空白字符开始排序。</li>\n<li><code v-pre>-f</code> <code v-pre>--ignore-case</code> 让排序不区分大小写。</li>\n<li><code v-pre>-n</code> <code v-pre>--numeric-sort</code> 按照数值排序，而不是字符值，用于行首是数值的情况。</li>\n<li><code v-pre>-r</code> <code v-pre>--reverse</code> 按相反顺序排序。结果按照降序排列，而不是升序。</li>\n<li><code v-pre>-k</code> <code v-pre>--key=field1[,field2]</code> 指定按照每行的第几个字段(从 1 开始)排序，而不是按照行首字符排序。该属性可以多个连用，用于指定多重排序标准，还可以指定每个字段指定排序标准，这些值与全局属性一致，比如 b(忽略开头的空格)，n(数值排序)，r(逆向排序)等等。</li>\n<li><code v-pre>-m</code> <code v-pre>--merge</code> 把每个参数看作是一个预先排好序的文件。把多个文件合并成一个排好序的文件，而没有执行额外的排序。</li>\n<li><code v-pre>-o</code> <code v-pre>--output=file</code> 把排好序的输出结果发送到文件，而不是标准输出。</li>\n<li><code v-pre>-t</code> <code v-pre>--field-separator=char</code> 定义字段分隔字符。默认情况下，字段由空格或制表符分隔。</li>\n<li><code v-pre>-u</code> 输出结果中删除重复行</li>\n</ul>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sort</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --key=1,1</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> --key=2n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span></code></pre>\n</div><p>上面命令中，第一个 <code v-pre>--key</code> 指定第一排序标准是只用第一字段(<code v-pre>1,1</code>)，也可以指定使用第一字段第一个字符(<code v-pre>1.1</code>)；第二排序标准是第二字段，按数值排序。</p>\n<h2 id=\"uniq\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#uniq\"><span>uniq</span></a></h2>\n<p><code v-pre>uniq</code> 命令在排序后的行中，删除所有重复的行，保证所有输出没有重复。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">ls</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /bin</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /usr/bin</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sort</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">uniq</span></span></code></pre>\n</div><p>它的参数如下。</p>\n<ul>\n<li><code v-pre>-c</code> 输出所有的重复行，并且每行开头显示重复的次数。</li>\n<li><code v-pre>-d</code> 只输出重复行，而不是不重复的文本行。</li>\n<li><code v-pre>-f n</code> 忽略每行开头的 n 个字段，字段之间由空格分隔，正如 sort 程序中的空格分隔符；然而， 不同于 sort 程序，uniq 没有选项来设置备用的字段分隔符。</li>\n<li><code v-pre>-i</code> 在比较文本行的时候忽略大小写。</li>\n<li><code v-pre>-s n</code> 跳过(忽略)每行开头的 n 个字符。</li>\n<li><code v-pre>-u</code> 只是输出独有的文本行。这是默认的。</li>\n<li><code v-pre>-V</code> 按照版本号排序。</li>\n</ul>\n<p><code v-pre>-V</code> 参数可以按版本号排列(从小到大)。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sort</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -V</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> input.txt</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">1.0.15</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">1.3.0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">2.1.2</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">3.0.0</span></span></code></pre>\n</div><p><code v-pre>-rV</code> 参数可以按版本号逆序排列。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sort</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -rV</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> input.txt</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">3.0.0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">2.1.2</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">1.3.0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">1.0.15</span></span></code></pre>\n</div><h2 id=\"cut\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#cut\"><span>cut</span></a></h2>\n<p><code v-pre>cut</code> 程序用来从文本行中抽取文本，并把其输出到标准输出。它能够接受多个文件参数或者标准输入。</p>\n<p>它的参数如下。</p>\n<ul>\n<li><code v-pre>-c char_list</code> 抽取指定范围的文本</li>\n<li><code v-pre>-f field_list</code> 抽取指定字段，字段之间可以 tab 分隔也可以逗号分隔</li>\n<li><code v-pre>-d delim_char</code> 指定字段分隔符，默认是 tab 键</li>\n<li><code v-pre>--complement</code> 抽取整个文本行，除了那些由-c 和／或-f 选项指定的文本。</li>\n</ul>\n<div class=\"language-bash line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 抽取每行的第三个字段</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cut</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -f</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 3</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 抽取每行的第7到第10个字符</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cut</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -c</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 7-10</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 抽取每行的第23个到结尾的字符1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cut</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -c</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 23-</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 指定字段分隔符为冒号</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cut</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -d</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ':'</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -f</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 1</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /etc/passwd</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"paste\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#paste\"><span>paste</span></a></h2>\n<p><code v-pre>paste</code> 程序将多个文本文件按行合并，即每一行都由原来文本文件的每一行组成，显示在标准输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">paste</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros-dates.txt</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros-versions.txt</span></span></code></pre>\n</div><h2 id=\"wc\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#wc\"><span>wc</span></a></h2>\n<p><code v-pre>wc</code> 命令输出一个文本文件的统计信息(word count)，一共有三个值，分别为行数、词数和字节数。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> wc</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ls-output.txt</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> 7902</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 64566</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 503634</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ls-output.txt</span></span></code></pre>\n</div><p>如果使用 <code v-pre>-l</code> 参数，则只输出行数。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ls</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /bin</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /usr/bin</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">sort</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">uniq</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">wc</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -l</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\"> 2728</span></span></code></pre>\n</div><h2 id=\"head\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#head\"><span>head</span></a></h2>\n<p><code v-pre>head</code> 命令返回文本文件的头部，默认显示 10 行。</p>\n<p><code v-pre>-n</code> 参数指定显示的行数。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">head</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -n</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 5</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ls-output.txt</span></span></code></pre>\n</div><h2 id=\"tail\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#tail\"><span>tail</span></a></h2>\n<p><code v-pre>tail</code> 命令返回文本文件的尾部，默认显示 10 行。</p>\n<p><code v-pre>-n</code> 参数指定显示的行数。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">tail</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -n</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> 5</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ls-output.txt</span></span></code></pre>\n</div><p><code v-pre>-f</code> 会实时追加显示新增的内容，常用于实时监控日志，按 <code v-pre>Ctrl + c</code> 停止。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">tail</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -f</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /var/log/messages</span></span></code></pre>\n</div><h2 id=\"grep\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#grep\"><span>grep</span></a></h2>\n<p><code v-pre>grep</code> 程序用于在指定文件之中，搜索符合某个模式的行，并把搜索结果输出到标准输出。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">grep</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> keyword</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> foo.txt</span></span></code></pre>\n</div><p>上面命令输出 <code v-pre>foo.txt</code> 之中匹配 <code v-pre>keyword</code> 的行。</p>\n<p><code v-pre>grep</code> 程序可以同时搜索多个文件。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">grep</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> keyword</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> f</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">.txt</span></span></code></pre>\n</div><p>上面命令输出多个文件中匹配 <code v-pre>keyword</code> 的行。</p>\n<p><code v-pre>-l</code> 参数输出匹配的文件名，而不是文件行。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">grep</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -l</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> bzip</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> dirlist</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E5C07B\">*</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\">.txt</span></span></code></pre>\n</div><p>如果想搜索文件名，而不是文件内容，可以使用重定向。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">ls</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /usr/bin</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> | </span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">grep</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> zip</span></span></code></pre>\n</div><p>上面命令会输出<code v-pre>/usr/bin</code> 目录中，文件名中包含子字符串 <code v-pre>zip</code> 的所有文件。</p>\n<p>参数的含义。</p>\n<ul>\n<li><code v-pre>-c</code> 或 <code v-pre>--count</code> 输出匹配的数量，而不是匹配的文本行。如果使用了 <code v-pre>-v</code>，则输出不匹配的数量。</li>\n<li><code v-pre>-h</code> 或 <code v-pre>--no-filename</code> 应用于多文件搜索，不在每行匹配的文本前，输出文件名</li>\n<li><code v-pre>-i</code> 或 <code v-pre>--ignore-case</code> 忽略大小写</li>\n<li><code v-pre>-l</code> 或 <code v-pre>--files-with-matches</code> 输出包含匹配项的文件名，而不是文本行本身</li>\n<li><code v-pre>-L</code> 或 <code v-pre>--files-without-match</code> 类似于 <code v-pre>-l</code>，但输出不包含匹配项的文件名</li>\n<li><code v-pre>-n</code> 或 <code v-pre>--line-number</code> 每个匹配行之前输出其对应的行号</li>\n<li><code v-pre>-v</code> 或 <code v-pre>--invert-match</code> 只返回不符合模式的行</li>\n</ul>\n<h2 id=\"sed\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#sed\"><span>sed</span></a></h2>\n<p><code v-pre>sed</code> 是一个强大的文本编辑工具。</p>\n<div class=\"language-bash line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 输出前5行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sed</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '1,5p'</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 输出包含指定内容的行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sed</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '/SUSE/p'</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 输出不包含指定内容的行</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sed</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -n</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> '/SUSE/!p'</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 替换内容(只替换第一个)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sed</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 's/regexp/replacement/'</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 替换内容(全局替换)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> sed</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> 's/regexp/replacement/g'</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> distros.txt</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","tagOpen":"<template>","tagClose":"</template>"},"script":null,"scriptSetup":null,"scripts":[],"styles":[],"customBlocks":[]},"content":"\n# 文本处理\n\n## cat\n\n`cat` 可以文件的内容，显示在标准输出。\n\n```bash\n$ cat text1\n1 apple\n2 pear\n3 banana\n```\n\n它也可以同时输出多个文件内容。\n\n```bash\ncat text1 text2\n```\n\n它与重定向结合，就可以合并多个文件。\n\n```bash\n# 合并文本文件\n$ cat text* > text.all\n\n# 合并二进制文件\n$ cat movie.mpeg.0* > movie.mpeg\n```\n\n如果调用 `cat` 命令时没有任何参数，它将读取标准输入，然后显示到标准输出。按下 `Ctrl + d`，将会结束 `cat` 读取标准输入。利用这一点，可以将键盘输入写入指定文件，按下 `Ctrl + d` 结束输入。\n\n```bash\ncat > lazy_dog.txt\n```\n\n它的参数如下。\n\n- `-n` 输出结果显示行号\n- `-s` 将多个连续的空白行，输出为一行\n- `-A` 输出结果中显示控制符，比如 Tab 键显示为 `^I`，行尾显示`$`\n\n`cat` 支持 Here document，显示多行文本。\n\n```bash\ncat << _EOF_\n<HTML>\n         <HEAD>\n                <TITLE>$TITLE</TITLE>\n         </HEAD>\n         <BODY>\n                <H1>$TITLE</H1>\n                <P>$TIME_STAMP</P>\n         </BODY>\n</HTML>\n_EOF_\n```\n\nHere document 常在脚本当中作为输入的手段。\n\n```bash\n$ sort -k2 <<END\n> 1 apple\n> 2 pear\n> 3 banana\n> END\n1 apple\n3 banana\n2 pear\n```\n\n如果使用 `<<-` 代替 `<<`，行首的 tab 键将被剥离。\n\n## nl\n\n`nl` 命令为文本文件添加行号，显示在标准输出。\n\n```bash\nnl example.txt\n```\n\n## sort\n\n`sort` 命令将文本文件的所有行排序后输出。\n\n```bash\nsort file1.txt file2.txt file3.txt > final_sorted_list.txt\n```\n\n它的参数如下。\n\n- `-b` `--ignore-leading-blanks` 默认情况下，排序用的是每行的第一个字符。这个参数忽略每行开头的空格，从第一个非空白字符开始排序。\n- `-f` `--ignore-case` 让排序不区分大小写。\n- `-n` `--numeric-sort` 按照数值排序，而不是字符值，用于行首是数值的情况。\n- `-r` `--reverse` 按相反顺序排序。结果按照降序排列，而不是升序。\n- `-k` `--key=field1[,field2]` 指定按照每行的第几个字段(从 1 开始)排序，而不是按照行首字符排序。该属性可以多个连用，用于指定多重排序标准，还可以指定每个字段指定排序标准，这些值与全局属性一致，比如 b(忽略开头的空格)，n(数值排序)，r(逆向排序)等等。\n- `-m` `--merge` 把每个参数看作是一个预先排好序的文件。把多个文件合并成一个排好序的文件，而没有执行额外的排序。\n- `-o` `--output=file` 把排好序的输出结果发送到文件，而不是标准输出。\n- `-t` `--field-separator=char` 定义字段分隔字符。默认情况下，字段由空格或制表符分隔。\n- `-u` 输出结果中删除重复行\n\n```bash\nsort --key=1,1 --key=2n distros.txt\n```\n\n上面命令中，第一个 `--key` 指定第一排序标准是只用第一字段(`1,1`)，也可以指定使用第一字段第一个字符(`1.1`)；第二排序标准是第二字段，按数值排序。\n\n## uniq\n\n`uniq` 命令在排序后的行中，删除所有重复的行，保证所有输出没有重复。\n\n```bash\nls /bin /usr/bin | sort | uniq\n```\n\n它的参数如下。\n\n- `-c` 输出所有的重复行，并且每行开头显示重复的次数。\n- `-d` 只输出重复行，而不是不重复的文本行。\n- `-f n` 忽略每行开头的 n 个字段，字段之间由空格分隔，正如 sort 程序中的空格分隔符；然而， 不同于 sort 程序，uniq 没有选项来设置备用的字段分隔符。\n- `-i` 在比较文本行的时候忽略大小写。\n- `-s n` 跳过(忽略)每行开头的 n 个字符。\n- `-u` 只是输出独有的文本行。这是默认的。\n- `-V` 按照版本号排序。\n\n`-V` 参数可以按版本号排列(从小到大)。\n\n```bash\n$ sort -V input.txt\n1.0.15\n1.3.0\n2.1.2\n3.0.0\n```\n\n`-rV` 参数可以按版本号逆序排列。\n\n```bash\n$ sort -rV input.txt\n3.0.0\n2.1.2\n1.3.0\n1.0.15\n```\n\n## cut\n\n`cut` 程序用来从文本行中抽取文本，并把其输出到标准输出。它能够接受多个文件参数或者标准输入。\n\n它的参数如下。\n\n- `-c char_list` 抽取指定范围的文本\n- `-f field_list` 抽取指定字段，字段之间可以 tab 分隔也可以逗号分隔\n- `-d delim_char` 指定字段分隔符，默认是 tab 键\n- `--complement` 抽取整个文本行，除了那些由-c 和／或-f 选项指定的文本。\n\n```bash\n# 抽取每行的第三个字段\n$ cut -f 3 distros.txt\n\n# 抽取每行的第7到第10个字符\n$ cut -c 7-10 distros.txt\n\n# 抽取每行的第23个到结尾的字符1\n$ cut -c 23- distros.txt\n\n# 指定字段分隔符为冒号\n$ cut -d ':' -f 1 /etc/passwd\n```\n\n## paste\n\n`paste` 程序将多个文本文件按行合并，即每一行都由原来文本文件的每一行组成，显示在标准输出。\n\n```bash\npaste distros-dates.txt distros-versions.txt\n```\n\n## wc\n\n`wc` 命令输出一个文本文件的统计信息(word count)，一共有三个值，分别为行数、词数和字节数。\n\n```bash\n$ wc ls-output.txt\n 7902 64566 503634 ls-output.txt\n```\n\n如果使用 `-l` 参数，则只输出行数。\n\n```bash\n$ ls /bin /usr/bin | sort | uniq | wc -l\n 2728\n```\n\n## head\n\n`head` 命令返回文本文件的头部，默认显示 10 行。\n\n`-n` 参数指定显示的行数。\n\n```bash\nhead -n 5 ls-output.txt\n```\n\n## tail\n\n`tail` 命令返回文本文件的尾部，默认显示 10 行。\n\n`-n` 参数指定显示的行数。\n\n```bash\ntail -n 5 ls-output.txt\n```\n\n`-f` 会实时追加显示新增的内容，常用于实时监控日志，按 `Ctrl + c` 停止。\n\n```bash\ntail -f /var/log/messages\n```\n\n## grep\n\n`grep` 程序用于在指定文件之中，搜索符合某个模式的行，并把搜索结果输出到标准输出。\n\n```bash\ngrep keyword foo.txt\n```\n\n上面命令输出 `foo.txt` 之中匹配 `keyword` 的行。\n\n`grep` 程序可以同时搜索多个文件。\n\n```bash\ngrep keyword f*.txt\n```\n\n上面命令输出多个文件中匹配 `keyword` 的行。\n\n`-l` 参数输出匹配的文件名，而不是文件行。\n\n```bash\ngrep -l bzip dirlist*.txt\n```\n\n如果想搜索文件名，而不是文件内容，可以使用重定向。\n\n```bash\nls /usr/bin | grep zip\n```\n\n上面命令会输出`/usr/bin` 目录中，文件名中包含子字符串 `zip` 的所有文件。\n\n参数的含义。\n\n- `-c` 或 `--count` 输出匹配的数量，而不是匹配的文本行。如果使用了 `-v`，则输出不匹配的数量。\n- `-h` 或 `--no-filename` 应用于多文件搜索，不在每行匹配的文本前，输出文件名\n- `-i` 或 `--ignore-case` 忽略大小写\n- `-l` 或 `--files-with-matches` 输出包含匹配项的文件名，而不是文本行本身\n- `-L` 或 `--files-without-match` 类似于 `-l`，但输出不包含匹配项的文件名\n- `-n` 或 `--line-number` 每个匹配行之前输出其对应的行号\n- `-v` 或 `--invert-match` 只返回不符合模式的行\n\n## sed\n\n`sed` 是一个强大的文本编辑工具。\n\n```bash\n# 输出前5行\n$ sed -n '1,5p' distros.txt\n\n# 输出包含指定内容的行\n$ sed -n '/SUSE/p' distros.txt\n\n# 输出不包含指定内容的行\n$ sed -n '/SUSE/!p' distros.txt\n\n# 替换内容(只替换第一个)\n$ sed 's/regexp/replacement/' distros.txt\n\n# 替换内容(全局替换)\n$ sed 's/regexp/replacement/g' distros.txt\n```\n","excerpt":"","title":"文本处理","headers":[{"level":2,"title":"cat","slug":"cat","link":"#cat","children":[]},{"level":2,"title":"nl","slug":"nl","link":"#nl","children":[]},{"level":2,"title":"sort","slug":"sort","link":"#sort","children":[]},{"level":2,"title":"uniq","slug":"uniq","link":"#uniq","children":[]},{"level":2,"title":"cut","slug":"cut","link":"#cut","children":[]},{"level":2,"title":"paste","slug":"paste","link":"#paste","children":[]},{"level":2,"title":"wc","slug":"wc","link":"#wc","children":[]},{"level":2,"title":"head","slug":"head","link":"#head","children":[]},{"level":2,"title":"tail","slug":"tail","link":"#tail","children":[]},{"level":2,"title":"grep","slug":"grep","link":"#grep","children":[]},{"level":2,"title":"sed","slug":"sed","link":"#sed","children":[]}]}}
