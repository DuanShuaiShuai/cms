{"content":"<p>为了方便用户在不同目录之间切换，Bash 提供了目录堆栈功能。</p>\n<!-- more -->\n<h2 id=\"cd\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#cd\"><span>cd -</span></a></h2>\n<p>Bash 可以记忆用户进入过的目录。默认情况下，只记忆前一次所在的目录，<code v-pre>cd -</code> 命令可以返回前一次的目录。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前目录是 /path/to/foo</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> bar</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 重新回到 /path/to/foo</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> -</span></span></code></pre>\n</div><p>上面例子中，用户原来所在的目录是 <code v-pre>/path/to/foo</code>，进入子目录 <code v-pre>bar</code> 以后，使用 <code v-pre>cd -</code> 可以回到原来的目录。</p>\n<h2 id=\"pushd-popd\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#pushd-popd\"><span>pushd，popd</span></a></h2>\n<p>如果希望记忆多重目录，可以使用 <code v-pre>pushd</code> 命令和 <code v-pre>popd</code> 命令。它们用来操作目录堆栈。</p>\n<p><code v-pre>pushd</code> 命令的用法类似 <code v-pre>cd</code> 命令，可以进入指定的目录。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pushd dirname</span></span></code></pre>\n</div><p>上面命令会进入目录 <code v-pre>dirname</code>，并将该目录放入堆栈。</p>\n<p>第一次使用 <code v-pre>pushd</code> 命令时，会将当前目录先放入堆栈，然后将所要进入的目录也放入堆栈，位置在前一个记录的上方。以后每次使用 <code v-pre>pushd</code> 命令，都会将所要进入的目录，放在堆栈的顶部。</p>\n<p><code v-pre>popd</code> 命令不带有参数时，会移除堆栈的顶部记录，并进入新的堆栈顶部目录(即原来的第二条目录)。</p>\n<p>下面是一个例子。</p>\n<div class=\"language-bash line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前处在主目录，堆栈为空</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pwd</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">/home/me</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 进入 /home/me/foo</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前堆栈为 /home/me/foo /home/me</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pushd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ~/foo</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 进入 /etc</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前堆栈为 /etc /home/me/foo /home/me</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pushd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /etc</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 进入 /home/me/foo</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前堆栈为 /home/me/foo /home/me</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> popd</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 进入 /home/me</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前堆栈为 /home/me</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> popd</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 目录不变，当前堆栈为空</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> popd</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>这两个命令的参数如下。</p>\n<ol>\n<li>\n<p><strong><code v-pre>-n</code> 参数</strong></p>\n<p><code v-pre>-n</code> 的参数表示仅操作堆栈，不改变目录。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">popd -n</span></span></code></pre>\n</div><p>上面的命令仅删除堆栈顶部的记录，不改变目录，执行完成后还停留在当前目录。</p>\n</li>\n<li>\n<p><strong>整数参数</strong></p>\n<p>这两个命令还可以接受一个整数作为参数，该整数表示堆栈中指定位置的记录(从 0 开始)，作为操作对象。这时不会切换目录。</p>\n<div class=\"language-bash line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 从栈顶算起的3号目录(从0开始)，移动到栈顶</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pushd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> +3</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 从栈底算起的3号目录(从0开始)，移动到栈顶</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pushd</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -3</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 删除从栈顶算起的3号目录(从0开始)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> popd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> +3</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 删除从栈底算起的3号目录(从0开始)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> popd</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -3</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>上面例子的整数编号都是从 0 开始计算，<code v-pre>popd +0</code> 是删除第一个目录，<code v-pre>popd +1</code> 是删除第二个，<code v-pre>popd -0</code> 是删除最后一个目录，，<code v-pre>popd -1</code> 是删除倒数第二个。</p>\n</li>\n<li>\n<p><strong>目录参数</strong></p>\n<p><code v-pre>pushd</code> 可以接受一个目录作为参数，表示将该目录放到堆栈顶部，并进入该目录。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pushd dir</span></span></code></pre>\n</div><p><code v-pre>popd</code> 没有这个参数。</p>\n</li>\n</ol>\n<h2 id=\"dirs-命令\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#dirs-命令\"><span>dirs 命令</span></a></h2>\n<p><code v-pre>dirs</code> 命令可以显示目录堆栈的内容，一般用来查看 <code v-pre>pushd</code> 和 <code v-pre>popd</code> 操作后的结果。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">dirs</span></span></code></pre>\n</div><p>它有以下参数。</p>\n<ul>\n<li><code v-pre>-c</code>: 清空目录栈。</li>\n<li><code v-pre>-l</code>: 用户主目录不显示波浪号前缀，而打印完整的目录。</li>\n<li><code v-pre>-p</code>: 每行一个条目打印目录栈，默认是打印在一行。</li>\n<li><code v-pre>-v</code>: 每行一个条目，每个条目之前显示位置编号(从 0 开始)。</li>\n<li><code v-pre>+N</code>: <code v-pre>N</code> 为整数，表示显示堆顶算起的第 N 个目录，从零开始。</li>\n<li><code v-pre>-N</code>: <code v-pre>N</code> 为整数，表示显示堆底算起的第 N 个目录，从零开始。</li>\n</ul>\n","env":{"base":"/","filePath":"/Users/carson/Desktop/Mister-Hope.github.io-main/src/linux/bash/stack.md","filePathRelative":"linux/bash/stack.md","frontmatter":{"date":"2020-05-04T00:00:00.000Z","title":"目录堆栈","icon":"stack","author":"阮一峰","category":"Linux","tag":["Bash"],"copyright":"本教程采用<a href=\"https://creativecommons.org/licenses/by-sa/3.0/deed.zh\" rel=\"noopener noreferrer\" target=\"_blank\">知识共享 署名-相同方式共享 3.0协议</a>"},"sfcBlocks":{"template":{"type":"template","content":"<template><p>为了方便用户在不同目录之间切换，Bash 提供了目录堆栈功能。</p>\n<!-- more -->\n<h2 id=\"cd\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#cd\"><span>cd -</span></a></h2>\n<p>Bash 可以记忆用户进入过的目录。默认情况下，只记忆前一次所在的目录，<code v-pre>cd -</code> 命令可以返回前一次的目录。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前目录是 /path/to/foo</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> bar</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 重新回到 /path/to/foo</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> -</span></span></code></pre>\n</div><p>上面例子中，用户原来所在的目录是 <code v-pre>/path/to/foo</code>，进入子目录 <code v-pre>bar</code> 以后，使用 <code v-pre>cd -</code> 可以回到原来的目录。</p>\n<h2 id=\"pushd-popd\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#pushd-popd\"><span>pushd，popd</span></a></h2>\n<p>如果希望记忆多重目录，可以使用 <code v-pre>pushd</code> 命令和 <code v-pre>popd</code> 命令。它们用来操作目录堆栈。</p>\n<p><code v-pre>pushd</code> 命令的用法类似 <code v-pre>cd</code> 命令，可以进入指定的目录。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pushd dirname</span></span></code></pre>\n</div><p>上面命令会进入目录 <code v-pre>dirname</code>，并将该目录放入堆栈。</p>\n<p>第一次使用 <code v-pre>pushd</code> 命令时，会将当前目录先放入堆栈，然后将所要进入的目录也放入堆栈，位置在前一个记录的上方。以后每次使用 <code v-pre>pushd</code> 命令，都会将所要进入的目录，放在堆栈的顶部。</p>\n<p><code v-pre>popd</code> 命令不带有参数时，会移除堆栈的顶部记录，并进入新的堆栈顶部目录(即原来的第二条目录)。</p>\n<p>下面是一个例子。</p>\n<div class=\"language-bash line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前处在主目录，堆栈为空</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pwd</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">/home/me</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 进入 /home/me/foo</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前堆栈为 /home/me/foo /home/me</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pushd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ~/foo</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 进入 /etc</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前堆栈为 /etc /home/me/foo /home/me</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pushd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /etc</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 进入 /home/me/foo</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前堆栈为 /home/me/foo /home/me</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> popd</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 进入 /home/me</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前堆栈为 /home/me</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> popd</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 目录不变，当前堆栈为空</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> popd</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>这两个命令的参数如下。</p>\n<ol>\n<li>\n<p><strong><code v-pre>-n</code> 参数</strong></p>\n<p><code v-pre>-n</code> 的参数表示仅操作堆栈，不改变目录。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">popd -n</span></span></code></pre>\n</div><p>上面的命令仅删除堆栈顶部的记录，不改变目录，执行完成后还停留在当前目录。</p>\n</li>\n<li>\n<p><strong>整数参数</strong></p>\n<p>这两个命令还可以接受一个整数作为参数，该整数表示堆栈中指定位置的记录(从 0 开始)，作为操作对象。这时不会切换目录。</p>\n<div class=\"language-bash line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 从栈顶算起的3号目录(从0开始)，移动到栈顶</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pushd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> +3</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 从栈底算起的3号目录(从0开始)，移动到栈顶</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pushd</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -3</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 删除从栈顶算起的3号目录(从0开始)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> popd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> +3</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 删除从栈底算起的3号目录(从0开始)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> popd</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -3</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>上面例子的整数编号都是从 0 开始计算，<code v-pre>popd +0</code> 是删除第一个目录，<code v-pre>popd +1</code> 是删除第二个，<code v-pre>popd -0</code> 是删除最后一个目录，，<code v-pre>popd -1</code> 是删除倒数第二个。</p>\n</li>\n<li>\n<p><strong>目录参数</strong></p>\n<p><code v-pre>pushd</code> 可以接受一个目录作为参数，表示将该目录放到堆栈顶部，并进入该目录。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pushd dir</span></span></code></pre>\n</div><p><code v-pre>popd</code> 没有这个参数。</p>\n</li>\n</ol>\n<h2 id=\"dirs-命令\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#dirs-命令\"><span>dirs 命令</span></a></h2>\n<p><code v-pre>dirs</code> 命令可以显示目录堆栈的内容，一般用来查看 <code v-pre>pushd</code> 和 <code v-pre>popd</code> 操作后的结果。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">dirs</span></span></code></pre>\n</div><p>它有以下参数。</p>\n<ul>\n<li><code v-pre>-c</code>: 清空目录栈。</li>\n<li><code v-pre>-l</code>: 用户主目录不显示波浪号前缀，而打印完整的目录。</li>\n<li><code v-pre>-p</code>: 每行一个条目打印目录栈，默认是打印在一行。</li>\n<li><code v-pre>-v</code>: 每行一个条目，每个条目之前显示位置编号(从 0 开始)。</li>\n<li><code v-pre>+N</code>: <code v-pre>N</code> 为整数，表示显示堆顶算起的第 N 个目录，从零开始。</li>\n<li><code v-pre>-N</code>: <code v-pre>N</code> 为整数，表示显示堆底算起的第 N 个目录，从零开始。</li>\n</ul>\n</template>","contentStripped":"<p>为了方便用户在不同目录之间切换，Bash 提供了目录堆栈功能。</p>\n<!-- more -->\n<h2 id=\"cd\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#cd\"><span>cd -</span></a></h2>\n<p>Bash 可以记忆用户进入过的目录。默认情况下，只记忆前一次所在的目录，<code v-pre>cd -</code> 命令可以返回前一次的目录。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前目录是 /path/to/foo</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> bar</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 重新回到 /path/to/foo</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> cd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> -</span></span></code></pre>\n</div><p>上面例子中，用户原来所在的目录是 <code v-pre>/path/to/foo</code>，进入子目录 <code v-pre>bar</code> 以后，使用 <code v-pre>cd -</code> 可以回到原来的目录。</p>\n<h2 id=\"pushd-popd\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#pushd-popd\"><span>pushd，popd</span></a></h2>\n<p>如果希望记忆多重目录，可以使用 <code v-pre>pushd</code> 命令和 <code v-pre>popd</code> 命令。它们用来操作目录堆栈。</p>\n<p><code v-pre>pushd</code> 命令的用法类似 <code v-pre>cd</code> 命令，可以进入指定的目录。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pushd dirname</span></span></code></pre>\n</div><p>上面命令会进入目录 <code v-pre>dirname</code>，并将该目录放入堆栈。</p>\n<p>第一次使用 <code v-pre>pushd</code> 命令时，会将当前目录先放入堆栈，然后将所要进入的目录也放入堆栈，位置在前一个记录的上方。以后每次使用 <code v-pre>pushd</code> 命令，都会将所要进入的目录，放在堆栈的顶部。</p>\n<p><code v-pre>popd</code> 命令不带有参数时，会移除堆栈的顶部记录，并进入新的堆栈顶部目录(即原来的第二条目录)。</p>\n<p>下面是一个例子。</p>\n<div class=\"language-bash line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前处在主目录，堆栈为空</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pwd</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">/home/me</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 进入 /home/me/foo</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前堆栈为 /home/me/foo /home/me</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pushd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> ~/foo</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 进入 /etc</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前堆栈为 /etc /home/me/foo /home/me</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pushd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> /etc</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 进入 /home/me/foo</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前堆栈为 /home/me/foo /home/me</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> popd</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 进入 /home/me</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 当前堆栈为 /home/me</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> popd</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 目录不变，当前堆栈为空</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> popd</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>这两个命令的参数如下。</p>\n<ol>\n<li>\n<p><strong><code v-pre>-n</code> 参数</strong></p>\n<p><code v-pre>-n</code> 的参数表示仅操作堆栈，不改变目录。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">popd -n</span></span></code></pre>\n</div><p>上面的命令仅删除堆栈顶部的记录，不改变目录，执行完成后还停留在当前目录。</p>\n</li>\n<li>\n<p><strong>整数参数</strong></p>\n<p>这两个命令还可以接受一个整数作为参数，该整数表示堆栈中指定位置的记录(从 0 开始)，作为操作对象。这时不会切换目录。</p>\n<div class=\"language-bash line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 从栈顶算起的3号目录(从0开始)，移动到栈顶</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pushd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> +3</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 从栈底算起的3号目录(从0开始)，移动到栈顶</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> pushd</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -3</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 删除从栈顶算起的3号目录(从0开始)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> popd</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> +3</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\"># 删除从栈底算起的3号目录(从0开始)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">$</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> popd</span><span style=\"--shiki-light:#986801;--shiki-dark:#D19A66\"> -3</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>上面例子的整数编号都是从 0 开始计算，<code v-pre>popd +0</code> 是删除第一个目录，<code v-pre>popd +1</code> 是删除第二个，<code v-pre>popd -0</code> 是删除最后一个目录，，<code v-pre>popd -1</code> 是删除倒数第二个。</p>\n</li>\n<li>\n<p><strong>目录参数</strong></p>\n<p><code v-pre>pushd</code> 可以接受一个目录作为参数，表示将该目录放到堆栈顶部，并进入该目录。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">pushd dir</span></span></code></pre>\n</div><p><code v-pre>popd</code> 没有这个参数。</p>\n</li>\n</ol>\n<h2 id=\"dirs-命令\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#dirs-命令\"><span>dirs 命令</span></a></h2>\n<p><code v-pre>dirs</code> 命令可以显示目录堆栈的内容，一般用来查看 <code v-pre>pushd</code> 和 <code v-pre>popd</code> 操作后的结果。</p>\n<div class=\"language-bash\" data-highlighter=\"shiki\" data-ext=\"bash\" data-title=\"bash\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\">dirs</span></span></code></pre>\n</div><p>它有以下参数。</p>\n<ul>\n<li><code v-pre>-c</code>: 清空目录栈。</li>\n<li><code v-pre>-l</code>: 用户主目录不显示波浪号前缀，而打印完整的目录。</li>\n<li><code v-pre>-p</code>: 每行一个条目打印目录栈，默认是打印在一行。</li>\n<li><code v-pre>-v</code>: 每行一个条目，每个条目之前显示位置编号(从 0 开始)。</li>\n<li><code v-pre>+N</code>: <code v-pre>N</code> 为整数，表示显示堆顶算起的第 N 个目录，从零开始。</li>\n<li><code v-pre>-N</code>: <code v-pre>N</code> 为整数，表示显示堆底算起的第 N 个目录，从零开始。</li>\n</ul>\n","tagOpen":"<template>","tagClose":"</template>"},"script":null,"scriptSetup":null,"scripts":[],"styles":[],"customBlocks":[]},"content":"\n为了方便用户在不同目录之间切换，Bash 提供了目录堆栈功能。\n\n<!-- more -->\n\n## cd -\n\nBash 可以记忆用户进入过的目录。默认情况下，只记忆前一次所在的目录，`cd -` 命令可以返回前一次的目录。\n\n```bash\n# 当前目录是 /path/to/foo\n$ cd bar\n\n# 重新回到 /path/to/foo\n$ cd -\n```\n\n上面例子中，用户原来所在的目录是 `/path/to/foo`，进入子目录 `bar` 以后，使用 `cd -` 可以回到原来的目录。\n\n## pushd，popd\n\n如果希望记忆多重目录，可以使用 `pushd` 命令和 `popd` 命令。它们用来操作目录堆栈。\n\n`pushd` 命令的用法类似 `cd` 命令，可以进入指定的目录。\n\n```bash\npushd dirname\n```\n\n上面命令会进入目录 `dirname`，并将该目录放入堆栈。\n\n第一次使用 `pushd` 命令时，会将当前目录先放入堆栈，然后将所要进入的目录也放入堆栈，位置在前一个记录的上方。以后每次使用 `pushd` 命令，都会将所要进入的目录，放在堆栈的顶部。\n\n`popd` 命令不带有参数时，会移除堆栈的顶部记录，并进入新的堆栈顶部目录(即原来的第二条目录)。\n\n下面是一个例子。\n\n```bash\n# 当前处在主目录，堆栈为空\n$ pwd\n/home/me\n\n# 进入 /home/me/foo\n# 当前堆栈为 /home/me/foo /home/me\n$ pushd ~/foo\n\n# 进入 /etc\n# 当前堆栈为 /etc /home/me/foo /home/me\n$ pushd /etc\n\n# 进入 /home/me/foo\n# 当前堆栈为 /home/me/foo /home/me\n$ popd\n\n# 进入 /home/me\n# 当前堆栈为 /home/me\n$ popd\n\n# 目录不变，当前堆栈为空\n$ popd\n```\n\n这两个命令的参数如下。\n\n1. **`-n` 参数**\n\n   `-n` 的参数表示仅操作堆栈，不改变目录。\n\n   ```bash\n   popd -n\n   ```\n\n   上面的命令仅删除堆栈顶部的记录，不改变目录，执行完成后还停留在当前目录。\n\n1. **整数参数**\n\n   这两个命令还可以接受一个整数作为参数，该整数表示堆栈中指定位置的记录(从 0 开始)，作为操作对象。这时不会切换目录。\n\n   ```bash\n   # 从栈顶算起的3号目录(从0开始)，移动到栈顶\n   $ pushd +3\n\n   # 从栈底算起的3号目录(从0开始)，移动到栈顶\n   $ pushd -3\n\n   # 删除从栈顶算起的3号目录(从0开始)\n   $ popd +3\n\n   # 删除从栈底算起的3号目录(从0开始)\n   $ popd -3\n   ```\n\n   上面例子的整数编号都是从 0 开始计算，`popd +0` 是删除第一个目录，`popd +1` 是删除第二个，`popd -0` 是删除最后一个目录，，`popd -1` 是删除倒数第二个。\n\n1. **目录参数**\n\n   `pushd` 可以接受一个目录作为参数，表示将该目录放到堆栈顶部，并进入该目录。\n\n   ```bash\n   pushd dir\n   ```\n\n   `popd` 没有这个参数。\n\n## dirs 命令\n\n`dirs` 命令可以显示目录堆栈的内容，一般用来查看 `pushd` 和 `popd` 操作后的结果。\n\n```bash\ndirs\n```\n\n它有以下参数。\n\n- `-c`: 清空目录栈。\n- `-l`: 用户主目录不显示波浪号前缀，而打印完整的目录。\n- `-p`: 每行一个条目打印目录栈，默认是打印在一行。\n- `-v`: 每行一个条目，每个条目之前显示位置编号(从 0 开始)。\n- `+N`: `N` 为整数，表示显示堆顶算起的第 N 个目录，从零开始。\n- `-N`: `N` 为整数，表示显示堆底算起的第 N 个目录，从零开始。\n","excerpt":"","title":"","headers":[{"level":2,"title":"cd -","slug":"cd","link":"#cd","children":[]},{"level":2,"title":"pushd，popd","slug":"pushd-popd","link":"#pushd-popd","children":[]},{"level":2,"title":"dirs 命令","slug":"dirs-命令","link":"#dirs-命令","children":[]}]}}
