{"content":"<h2 id=\"wx-getsysteminfo-object-object\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#wx-getsysteminfo-object-object\"><span>wx.getSystemInfo(Object object)</span></a></h2>\n<p>获取系统信息</p>\n<h3 id=\"参数\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#参数\"><span>参数</span></a></h3>\n<p>Object object</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>必填</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>success</td>\n<td>function</td>\n<td>否</td>\n<td>接口调用成功的回调函数</td>\n</tr>\n<tr>\n<td>fail</td>\n<td>function</td>\n<td>否</td>\n<td>接口调用失败的回调函数</td>\n</tr>\n<tr>\n<td>complete</td>\n<td>function</td>\n<td>否</td>\n<td>接口调用结束的回调函数(调用成功、失败都会执行)</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"object-success-回调函数\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#object-success-回调函数\"><span>object.success 回调函数</span></a></h3>\n<p>参数</p>\n<p>Object res</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>说明</th>\n<th>最低版本</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>brand</td>\n<td>string</td>\n<td>设备品牌</td>\n<td>1.5.0</td>\n</tr>\n<tr>\n<td>model</td>\n<td>string</td>\n<td>设备型号</td>\n<td></td>\n</tr>\n<tr>\n<td>pixelRatio</td>\n<td>number</td>\n<td>设备像素比</td>\n<td></td>\n</tr>\n<tr>\n<td>screenWidth</td>\n<td>number</td>\n<td>屏幕宽度，单位 px</td>\n<td>1.1.0</td>\n</tr>\n<tr>\n<td>screenHeight</td>\n<td>number</td>\n<td>屏幕高度，单位 px</td>\n<td>1.1.0</td>\n</tr>\n<tr>\n<td>windowWidth</td>\n<td>number</td>\n<td>可使用窗口宽度，单位 px</td>\n<td></td>\n</tr>\n<tr>\n<td>windowHeight</td>\n<td>number</td>\n<td>可使用窗口高度，单位 px</td>\n<td></td>\n</tr>\n<tr>\n<td>statusBarHeight</td>\n<td>number</td>\n<td>状态栏的高度，单位 px</td>\n<td>1.9.0</td>\n</tr>\n<tr>\n<td>language</td>\n<td>string</td>\n<td>微信设置的语言</td>\n<td></td>\n</tr>\n<tr>\n<td>version</td>\n<td>string</td>\n<td>微信版本号</td>\n<td></td>\n</tr>\n<tr>\n<td>system</td>\n<td>string</td>\n<td>操作系统及版本</td>\n<td></td>\n</tr>\n<tr>\n<td>platform</td>\n<td>string</td>\n<td>客户端平台</td>\n<td></td>\n</tr>\n<tr>\n<td>fontSizeSetting</td>\n<td>number</td>\n<td>用户字体大小(单位 px)。以微信客户端「我-设置-通用-字体大小」中的设置为准</td>\n<td>1.5.0</td>\n</tr>\n<tr>\n<td>SDKVersion</td>\n<td>string</td>\n<td>客户端基础库版本</td>\n<td>1.1.0</td>\n</tr>\n<tr>\n<td>benchmarkLevel</td>\n<td>number</td>\n<td>设备性能等级(仅 Android 小游戏)。<br />取值为: -2 或 0(该设备无法运行小游戏)，-1(性能未知)，&gt;=1(设备性能值，该值越高，设备性能越好，目前最高不到 50)</td>\n<td>1.8.0</td>\n</tr>\n<tr>\n<td>albumAuthorized</td>\n<td>boolean</td>\n<td>允许微信使用相册的开关(仅 iOS 有效)</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>cameraAuthorized</td>\n<td>boolean</td>\n<td>允许微信使用摄像头的开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>locationAuthorized</td>\n<td>boolean</td>\n<td>允许微信使用定位的开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>microphoneAuthorized</td>\n<td>boolean</td>\n<td>允许微信使用麦克风的开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>notificationAuthorized</td>\n<td>boolean</td>\n<td>允许微信通知的开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>notificationAlertAuthorized</td>\n<td>boolean</td>\n<td>允许微信通知带有提醒的开关(仅 iOS 有效)</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>notificationBadgeAuthorized</td>\n<td>boolean</td>\n<td>允许微信通知带有标记的开关(仅 iOS 有效)</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>notificationSoundAuthorized</td>\n<td>boolean</td>\n<td>允许微信通知带有声音的开关(仅 iOS 有效)</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>bluetoothEnabled</td>\n<td>boolean</td>\n<td>蓝牙的系统开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>locationEnabled</td>\n<td>boolean</td>\n<td>地理位置的系统开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>wifiEnabled</td>\n<td>boolean</td>\n<td>Wi-Fi 的系统开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>safeArea</td>\n<td>Object</td>\n<td>在竖屏正方向下的安全区域</td>\n<td>2.7.0</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"res-safearea-的结构\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#res-safearea-的结构\"><span>res.safeArea 的结构</span></a></h4>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>left</td>\n<td>number</td>\n<td>安全区域左上角横坐标</td>\n</tr>\n<tr>\n<td>right</td>\n<td>number</td>\n<td>安全区域右下角横坐标</td>\n</tr>\n<tr>\n<td>top</td>\n<td>number</td>\n<td>安全区域左上角纵坐标</td>\n</tr>\n<tr>\n<td>bottom</td>\n<td>number</td>\n<td>安全区域右下角纵坐标</td>\n</tr>\n<tr>\n<td>width</td>\n<td>number</td>\n<td>安全区域的宽度，单位逻辑像素</td>\n</tr>\n<tr>\n<td>height</td>\n<td>number</td>\n<td>安全区域的高度，单位逻辑像素</td>\n</tr>\n</tbody>\n</table>\n<p>示例代码</p>\n<div class=\"language-js line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"js\" data-title=\"js\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">wx</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSystemInfo</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">({</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">  success</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=></span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">model</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">pixelRatio</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">windowWidth</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">windowHeight</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">language</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">version</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">platform</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">  },</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">});</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"object-wx-getsysteminfosync\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#object-wx-getsysteminfosync\"><span>Object wx.getSystemInfoSync()</span></a></h2>\n<p><code v-pre>wx.getSystemInfo</code> 的同步版本</p>\n<p>直接返回异步版本的 <code v-pre>res</code></p>\n<p>示例代码</p>\n<div class=\"language-js line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"js\" data-title=\"js\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">  const</span><span style=\"--shiki-light:#986801;--shiki-dark:#E5C07B\"> res</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> wx</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSystemInfoSync</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">model</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">pixelRatio</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">windowWidth</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">windowHeight</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">language</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">version</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">platform</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">err</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">  // Do something when catch error</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"updatemanager-wx-getupdatemanager\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager-wx-getupdatemanager\"><span>UpdateManager wx.getUpdateManager()</span></a></h2>\n<p>获取全局唯一的版本更新管理器，用于管理小程序更新。关于小程序的更新机制，可以查看运行机制文档。</p>\n<p>返回值: UpdateManager</p>\n<h2 id=\"updatemanager\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager\"><span>UpdateManager</span></a></h2>\n<p>更新管理器对象，用来管理更新，可通过 <code v-pre>wx.getUpdateManager</code> 接口获取实例。UpdateManager 有多个方法</p>\n<h3 id=\"updatemanager-applyupdate\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager-applyupdate\"><span>UpdateManager.applyUpdate()</span></a></h3>\n<p>强制小程序重启并使用新版本。在小程序新版本下载完成后(即收到 <code v-pre>onUpdateReady</code> 回调)调用。</p>\n<h3 id=\"updatemanager-oncheckforupdate-function-callback\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager-oncheckforupdate-function-callback\"><span>UpdateManager.onCheckForUpdate(function callback)</span></a></h3>\n<p>监听向微信后台请求检查更新结果事件。微信在小程序冷启动时自动检查更新，不需由开发者主动触发。</p>\n<p>Function callback</p>\n<p>向微信后台请求检查更新结果事件的回调函数</p>\n<p>参数</p>\n<p>Object res</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>hasUpdate</td>\n<td>boolean</td>\n<td>是否有新版本</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"updatemanager-onupdateready-function-callback\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager-onupdateready-function-callback\"><span>UpdateManager.onUpdateReady(function callback)</span></a></h3>\n<p>监听小程序有版本更新事件。客户端主动触发下载(无需开发者触发)，下载成功后回调</p>\n<h3 id=\"updatemanager-onupdatefailed-function-callback\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager-onupdatefailed-function-callback\"><span>UpdateManager.onUpdateFailed(function callback)</span></a></h3>\n<p>监听小程序更新失败事件。小程序有新版本，客户端主动触发下载(无需开发者触发)，下载失败(可能是网络原因等)后回调</p>\n<p>示例代码</p>\n<div class=\"language-js line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"js\" data-title=\"js\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">const</span><span style=\"--shiki-light:#986801;--shiki-dark:#E5C07B\"> updateManager</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> wx</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getUpdateManager</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">updateManager</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onCheckForUpdate</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">((</span><span style=\"--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=></span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">  // 请求完新版本信息的回调</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">hasUpdate</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">});</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">updateManager</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onUpdateReady</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(() </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=></span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  wx</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">showModal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">({</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">    title</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"更新提示\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">    content</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"新版本已经准备好，是否重启应用? \"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    success</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=></span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">      if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">confirm</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">        // 新的版本已经下载好，调用 applyUpdate 应用新版本并重启</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">        updateManager</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">applyUpdate</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    },</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">  });</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">});</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">updateManager</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onUpdateFailed</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(() </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=></span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">  // 新版本下载失败</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">});</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","env":{"base":"/","filePath":"/Users/carson/Desktop/Mister-Hope.github.io-main/src/code/mini-app/guide/service/api/system.md","filePathRelative":"code/mini-app/guide/service/api/system.md","frontmatter":{"date":"2020-10-09T00:00:00.000Z","title":"系统相关 API","icon":"OS","category":"小程序"},"sfcBlocks":{"template":{"type":"template","content":"<template><h2 id=\"wx-getsysteminfo-object-object\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#wx-getsysteminfo-object-object\"><span>wx.getSystemInfo(Object object)</span></a></h2>\n<p>获取系统信息</p>\n<h3 id=\"参数\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#参数\"><span>参数</span></a></h3>\n<p>Object object</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>必填</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>success</td>\n<td>function</td>\n<td>否</td>\n<td>接口调用成功的回调函数</td>\n</tr>\n<tr>\n<td>fail</td>\n<td>function</td>\n<td>否</td>\n<td>接口调用失败的回调函数</td>\n</tr>\n<tr>\n<td>complete</td>\n<td>function</td>\n<td>否</td>\n<td>接口调用结束的回调函数(调用成功、失败都会执行)</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"object-success-回调函数\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#object-success-回调函数\"><span>object.success 回调函数</span></a></h3>\n<p>参数</p>\n<p>Object res</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>说明</th>\n<th>最低版本</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>brand</td>\n<td>string</td>\n<td>设备品牌</td>\n<td>1.5.0</td>\n</tr>\n<tr>\n<td>model</td>\n<td>string</td>\n<td>设备型号</td>\n<td></td>\n</tr>\n<tr>\n<td>pixelRatio</td>\n<td>number</td>\n<td>设备像素比</td>\n<td></td>\n</tr>\n<tr>\n<td>screenWidth</td>\n<td>number</td>\n<td>屏幕宽度，单位 px</td>\n<td>1.1.0</td>\n</tr>\n<tr>\n<td>screenHeight</td>\n<td>number</td>\n<td>屏幕高度，单位 px</td>\n<td>1.1.0</td>\n</tr>\n<tr>\n<td>windowWidth</td>\n<td>number</td>\n<td>可使用窗口宽度，单位 px</td>\n<td></td>\n</tr>\n<tr>\n<td>windowHeight</td>\n<td>number</td>\n<td>可使用窗口高度，单位 px</td>\n<td></td>\n</tr>\n<tr>\n<td>statusBarHeight</td>\n<td>number</td>\n<td>状态栏的高度，单位 px</td>\n<td>1.9.0</td>\n</tr>\n<tr>\n<td>language</td>\n<td>string</td>\n<td>微信设置的语言</td>\n<td></td>\n</tr>\n<tr>\n<td>version</td>\n<td>string</td>\n<td>微信版本号</td>\n<td></td>\n</tr>\n<tr>\n<td>system</td>\n<td>string</td>\n<td>操作系统及版本</td>\n<td></td>\n</tr>\n<tr>\n<td>platform</td>\n<td>string</td>\n<td>客户端平台</td>\n<td></td>\n</tr>\n<tr>\n<td>fontSizeSetting</td>\n<td>number</td>\n<td>用户字体大小(单位 px)。以微信客户端「我-设置-通用-字体大小」中的设置为准</td>\n<td>1.5.0</td>\n</tr>\n<tr>\n<td>SDKVersion</td>\n<td>string</td>\n<td>客户端基础库版本</td>\n<td>1.1.0</td>\n</tr>\n<tr>\n<td>benchmarkLevel</td>\n<td>number</td>\n<td>设备性能等级(仅 Android 小游戏)。<br />取值为: -2 或 0(该设备无法运行小游戏)，-1(性能未知)，&gt;=1(设备性能值，该值越高，设备性能越好，目前最高不到 50)</td>\n<td>1.8.0</td>\n</tr>\n<tr>\n<td>albumAuthorized</td>\n<td>boolean</td>\n<td>允许微信使用相册的开关(仅 iOS 有效)</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>cameraAuthorized</td>\n<td>boolean</td>\n<td>允许微信使用摄像头的开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>locationAuthorized</td>\n<td>boolean</td>\n<td>允许微信使用定位的开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>microphoneAuthorized</td>\n<td>boolean</td>\n<td>允许微信使用麦克风的开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>notificationAuthorized</td>\n<td>boolean</td>\n<td>允许微信通知的开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>notificationAlertAuthorized</td>\n<td>boolean</td>\n<td>允许微信通知带有提醒的开关(仅 iOS 有效)</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>notificationBadgeAuthorized</td>\n<td>boolean</td>\n<td>允许微信通知带有标记的开关(仅 iOS 有效)</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>notificationSoundAuthorized</td>\n<td>boolean</td>\n<td>允许微信通知带有声音的开关(仅 iOS 有效)</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>bluetoothEnabled</td>\n<td>boolean</td>\n<td>蓝牙的系统开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>locationEnabled</td>\n<td>boolean</td>\n<td>地理位置的系统开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>wifiEnabled</td>\n<td>boolean</td>\n<td>Wi-Fi 的系统开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>safeArea</td>\n<td>Object</td>\n<td>在竖屏正方向下的安全区域</td>\n<td>2.7.0</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"res-safearea-的结构\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#res-safearea-的结构\"><span>res.safeArea 的结构</span></a></h4>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>left</td>\n<td>number</td>\n<td>安全区域左上角横坐标</td>\n</tr>\n<tr>\n<td>right</td>\n<td>number</td>\n<td>安全区域右下角横坐标</td>\n</tr>\n<tr>\n<td>top</td>\n<td>number</td>\n<td>安全区域左上角纵坐标</td>\n</tr>\n<tr>\n<td>bottom</td>\n<td>number</td>\n<td>安全区域右下角纵坐标</td>\n</tr>\n<tr>\n<td>width</td>\n<td>number</td>\n<td>安全区域的宽度，单位逻辑像素</td>\n</tr>\n<tr>\n<td>height</td>\n<td>number</td>\n<td>安全区域的高度，单位逻辑像素</td>\n</tr>\n</tbody>\n</table>\n<p>示例代码</p>\n<div class=\"language-js line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"js\" data-title=\"js\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">wx</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSystemInfo</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">({</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">  success</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=></span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">model</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">pixelRatio</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">windowWidth</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">windowHeight</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">language</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">version</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">platform</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">  },</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">});</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"object-wx-getsysteminfosync\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#object-wx-getsysteminfosync\"><span>Object wx.getSystemInfoSync()</span></a></h2>\n<p><code v-pre>wx.getSystemInfo</code> 的同步版本</p>\n<p>直接返回异步版本的 <code v-pre>res</code></p>\n<p>示例代码</p>\n<div class=\"language-js line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"js\" data-title=\"js\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">  const</span><span style=\"--shiki-light:#986801;--shiki-dark:#E5C07B\"> res</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> wx</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSystemInfoSync</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">model</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">pixelRatio</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">windowWidth</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">windowHeight</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">language</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">version</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">platform</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">err</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">  // Do something when catch error</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"updatemanager-wx-getupdatemanager\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager-wx-getupdatemanager\"><span>UpdateManager wx.getUpdateManager()</span></a></h2>\n<p>获取全局唯一的版本更新管理器，用于管理小程序更新。关于小程序的更新机制，可以查看运行机制文档。</p>\n<p>返回值: UpdateManager</p>\n<h2 id=\"updatemanager\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager\"><span>UpdateManager</span></a></h2>\n<p>更新管理器对象，用来管理更新，可通过 <code v-pre>wx.getUpdateManager</code> 接口获取实例。UpdateManager 有多个方法</p>\n<h3 id=\"updatemanager-applyupdate\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager-applyupdate\"><span>UpdateManager.applyUpdate()</span></a></h3>\n<p>强制小程序重启并使用新版本。在小程序新版本下载完成后(即收到 <code v-pre>onUpdateReady</code> 回调)调用。</p>\n<h3 id=\"updatemanager-oncheckforupdate-function-callback\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager-oncheckforupdate-function-callback\"><span>UpdateManager.onCheckForUpdate(function callback)</span></a></h3>\n<p>监听向微信后台请求检查更新结果事件。微信在小程序冷启动时自动检查更新，不需由开发者主动触发。</p>\n<p>Function callback</p>\n<p>向微信后台请求检查更新结果事件的回调函数</p>\n<p>参数</p>\n<p>Object res</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>hasUpdate</td>\n<td>boolean</td>\n<td>是否有新版本</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"updatemanager-onupdateready-function-callback\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager-onupdateready-function-callback\"><span>UpdateManager.onUpdateReady(function callback)</span></a></h3>\n<p>监听小程序有版本更新事件。客户端主动触发下载(无需开发者触发)，下载成功后回调</p>\n<h3 id=\"updatemanager-onupdatefailed-function-callback\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager-onupdatefailed-function-callback\"><span>UpdateManager.onUpdateFailed(function callback)</span></a></h3>\n<p>监听小程序更新失败事件。小程序有新版本，客户端主动触发下载(无需开发者触发)，下载失败(可能是网络原因等)后回调</p>\n<p>示例代码</p>\n<div class=\"language-js line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"js\" data-title=\"js\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">const</span><span style=\"--shiki-light:#986801;--shiki-dark:#E5C07B\"> updateManager</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> wx</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getUpdateManager</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">updateManager</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onCheckForUpdate</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">((</span><span style=\"--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=></span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">  // 请求完新版本信息的回调</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">hasUpdate</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">});</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">updateManager</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onUpdateReady</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(() </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=></span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  wx</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">showModal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">({</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">    title</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"更新提示\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">    content</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"新版本已经准备好，是否重启应用? \"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    success</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=></span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">      if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">confirm</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">        // 新的版本已经下载好，调用 applyUpdate 应用新版本并重启</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">        updateManager</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">applyUpdate</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    },</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">  });</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">});</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">updateManager</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onUpdateFailed</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(() </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=></span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">  // 新版本下载失败</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">});</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></template>","contentStripped":"<h2 id=\"wx-getsysteminfo-object-object\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#wx-getsysteminfo-object-object\"><span>wx.getSystemInfo(Object object)</span></a></h2>\n<p>获取系统信息</p>\n<h3 id=\"参数\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#参数\"><span>参数</span></a></h3>\n<p>Object object</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>必填</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>success</td>\n<td>function</td>\n<td>否</td>\n<td>接口调用成功的回调函数</td>\n</tr>\n<tr>\n<td>fail</td>\n<td>function</td>\n<td>否</td>\n<td>接口调用失败的回调函数</td>\n</tr>\n<tr>\n<td>complete</td>\n<td>function</td>\n<td>否</td>\n<td>接口调用结束的回调函数(调用成功、失败都会执行)</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"object-success-回调函数\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#object-success-回调函数\"><span>object.success 回调函数</span></a></h3>\n<p>参数</p>\n<p>Object res</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>说明</th>\n<th>最低版本</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>brand</td>\n<td>string</td>\n<td>设备品牌</td>\n<td>1.5.0</td>\n</tr>\n<tr>\n<td>model</td>\n<td>string</td>\n<td>设备型号</td>\n<td></td>\n</tr>\n<tr>\n<td>pixelRatio</td>\n<td>number</td>\n<td>设备像素比</td>\n<td></td>\n</tr>\n<tr>\n<td>screenWidth</td>\n<td>number</td>\n<td>屏幕宽度，单位 px</td>\n<td>1.1.0</td>\n</tr>\n<tr>\n<td>screenHeight</td>\n<td>number</td>\n<td>屏幕高度，单位 px</td>\n<td>1.1.0</td>\n</tr>\n<tr>\n<td>windowWidth</td>\n<td>number</td>\n<td>可使用窗口宽度，单位 px</td>\n<td></td>\n</tr>\n<tr>\n<td>windowHeight</td>\n<td>number</td>\n<td>可使用窗口高度，单位 px</td>\n<td></td>\n</tr>\n<tr>\n<td>statusBarHeight</td>\n<td>number</td>\n<td>状态栏的高度，单位 px</td>\n<td>1.9.0</td>\n</tr>\n<tr>\n<td>language</td>\n<td>string</td>\n<td>微信设置的语言</td>\n<td></td>\n</tr>\n<tr>\n<td>version</td>\n<td>string</td>\n<td>微信版本号</td>\n<td></td>\n</tr>\n<tr>\n<td>system</td>\n<td>string</td>\n<td>操作系统及版本</td>\n<td></td>\n</tr>\n<tr>\n<td>platform</td>\n<td>string</td>\n<td>客户端平台</td>\n<td></td>\n</tr>\n<tr>\n<td>fontSizeSetting</td>\n<td>number</td>\n<td>用户字体大小(单位 px)。以微信客户端「我-设置-通用-字体大小」中的设置为准</td>\n<td>1.5.0</td>\n</tr>\n<tr>\n<td>SDKVersion</td>\n<td>string</td>\n<td>客户端基础库版本</td>\n<td>1.1.0</td>\n</tr>\n<tr>\n<td>benchmarkLevel</td>\n<td>number</td>\n<td>设备性能等级(仅 Android 小游戏)。<br />取值为: -2 或 0(该设备无法运行小游戏)，-1(性能未知)，&gt;=1(设备性能值，该值越高，设备性能越好，目前最高不到 50)</td>\n<td>1.8.0</td>\n</tr>\n<tr>\n<td>albumAuthorized</td>\n<td>boolean</td>\n<td>允许微信使用相册的开关(仅 iOS 有效)</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>cameraAuthorized</td>\n<td>boolean</td>\n<td>允许微信使用摄像头的开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>locationAuthorized</td>\n<td>boolean</td>\n<td>允许微信使用定位的开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>microphoneAuthorized</td>\n<td>boolean</td>\n<td>允许微信使用麦克风的开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>notificationAuthorized</td>\n<td>boolean</td>\n<td>允许微信通知的开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>notificationAlertAuthorized</td>\n<td>boolean</td>\n<td>允许微信通知带有提醒的开关(仅 iOS 有效)</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>notificationBadgeAuthorized</td>\n<td>boolean</td>\n<td>允许微信通知带有标记的开关(仅 iOS 有效)</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>notificationSoundAuthorized</td>\n<td>boolean</td>\n<td>允许微信通知带有声音的开关(仅 iOS 有效)</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>bluetoothEnabled</td>\n<td>boolean</td>\n<td>蓝牙的系统开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>locationEnabled</td>\n<td>boolean</td>\n<td>地理位置的系统开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>wifiEnabled</td>\n<td>boolean</td>\n<td>Wi-Fi 的系统开关</td>\n<td>2.6.0</td>\n</tr>\n<tr>\n<td>safeArea</td>\n<td>Object</td>\n<td>在竖屏正方向下的安全区域</td>\n<td>2.7.0</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"res-safearea-的结构\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#res-safearea-的结构\"><span>res.safeArea 的结构</span></a></h4>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>left</td>\n<td>number</td>\n<td>安全区域左上角横坐标</td>\n</tr>\n<tr>\n<td>right</td>\n<td>number</td>\n<td>安全区域右下角横坐标</td>\n</tr>\n<tr>\n<td>top</td>\n<td>number</td>\n<td>安全区域左上角纵坐标</td>\n</tr>\n<tr>\n<td>bottom</td>\n<td>number</td>\n<td>安全区域右下角纵坐标</td>\n</tr>\n<tr>\n<td>width</td>\n<td>number</td>\n<td>安全区域的宽度，单位逻辑像素</td>\n</tr>\n<tr>\n<td>height</td>\n<td>number</td>\n<td>安全区域的高度，单位逻辑像素</td>\n</tr>\n</tbody>\n</table>\n<p>示例代码</p>\n<div class=\"language-js line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"js\" data-title=\"js\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">wx</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSystemInfo</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">({</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">  success</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=></span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">model</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">pixelRatio</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">windowWidth</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">windowHeight</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">language</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">version</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">    console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">platform</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">  },</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">});</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"object-wx-getsysteminfosync\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#object-wx-getsysteminfosync\"><span>Object wx.getSystemInfoSync()</span></a></h2>\n<p><code v-pre>wx.getSystemInfo</code> 的同步版本</p>\n<p>直接返回异步版本的 <code v-pre>res</code></p>\n<p>示例代码</p>\n<div class=\"language-js line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"js\" data-title=\"js\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">try</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">  const</span><span style=\"--shiki-light:#986801;--shiki-dark:#E5C07B\"> res</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> wx</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getSystemInfoSync</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">model</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">pixelRatio</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">windowWidth</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">windowHeight</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">language</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">version</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">platform</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">} </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">catch</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E06C75\">err</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">  // Do something when catch error</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">}</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><h2 id=\"updatemanager-wx-getupdatemanager\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager-wx-getupdatemanager\"><span>UpdateManager wx.getUpdateManager()</span></a></h2>\n<p>获取全局唯一的版本更新管理器，用于管理小程序更新。关于小程序的更新机制，可以查看运行机制文档。</p>\n<p>返回值: UpdateManager</p>\n<h2 id=\"updatemanager\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager\"><span>UpdateManager</span></a></h2>\n<p>更新管理器对象，用来管理更新，可通过 <code v-pre>wx.getUpdateManager</code> 接口获取实例。UpdateManager 有多个方法</p>\n<h3 id=\"updatemanager-applyupdate\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager-applyupdate\"><span>UpdateManager.applyUpdate()</span></a></h3>\n<p>强制小程序重启并使用新版本。在小程序新版本下载完成后(即收到 <code v-pre>onUpdateReady</code> 回调)调用。</p>\n<h3 id=\"updatemanager-oncheckforupdate-function-callback\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager-oncheckforupdate-function-callback\"><span>UpdateManager.onCheckForUpdate(function callback)</span></a></h3>\n<p>监听向微信后台请求检查更新结果事件。微信在小程序冷启动时自动检查更新，不需由开发者主动触发。</p>\n<p>Function callback</p>\n<p>向微信后台请求检查更新结果事件的回调函数</p>\n<p>参数</p>\n<p>Object res</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>hasUpdate</td>\n<td>boolean</td>\n<td>是否有新版本</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"updatemanager-onupdateready-function-callback\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager-onupdateready-function-callback\"><span>UpdateManager.onUpdateReady(function callback)</span></a></h3>\n<p>监听小程序有版本更新事件。客户端主动触发下载(无需开发者触发)，下载成功后回调</p>\n<h3 id=\"updatemanager-onupdatefailed-function-callback\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#updatemanager-onupdatefailed-function-callback\"><span>UpdateManager.onUpdateFailed(function callback)</span></a></h3>\n<p>监听小程序更新失败事件。小程序有新版本，客户端主动触发下载(无需开发者触发)，下载失败(可能是网络原因等)后回调</p>\n<p>示例代码</p>\n<div class=\"language-js line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"js\" data-title=\"js\" style=\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\"><pre v-pre class=\"shiki shiki-themes one-light one-dark-pro vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">const</span><span style=\"--shiki-light:#986801;--shiki-dark:#E5C07B\"> updateManager</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\"> =</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\"> wx</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">getUpdateManager</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">updateManager</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onCheckForUpdate</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">((</span><span style=\"--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=></span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">  // 请求完新版本信息的回调</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  console</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">log</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">hasUpdate</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">});</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">updateManager</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onUpdateReady</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(() </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=></span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">  wx</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">showModal</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">({</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">    title</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"更新提示\"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">    content</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#50A14F;--shiki-dark:#98C379\"> \"新版本已经准备好，是否重启应用? \"</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">    success</span><span style=\"--shiki-light:#0184BC;--shiki-dark:#ABB2BF\">:</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">) </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=></span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">      if</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> (</span><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">res</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#E45649;--shiki-dark:#E06C75\">confirm</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">        // 新的版本已经下载好，调用 applyUpdate 应用新版本并重启</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">        updateManager</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">applyUpdate</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">    },</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">  });</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">});</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#E5C07B\">updateManager</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">.</span><span style=\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\">onUpdateFailed</span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">(() </span><span style=\"--shiki-light:#A626A4;--shiki-dark:#C678DD\">=></span><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\">  // 新版本下载失败</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\">});</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","tagOpen":"<template>","tagClose":"</template>"},"script":null,"scriptSetup":null,"scripts":[],"styles":[],"customBlocks":[]},"content":"\n## wx.getSystemInfo(Object object)\n\n获取系统信息\n\n### 参数\n\nObject object\n\n| 属性     | 类型     | 必填 | 说明                                           |\n| -------- | -------- | ---- | ---------------------------------------------- |\n| success  | function | 否   | 接口调用成功的回调函数                         |\n| fail     | function | 否   | 接口调用失败的回调函数                         |\n| complete | function | 否   | 接口调用结束的回调函数(调用成功、失败都会执行) |\n\n### object.success 回调函数\n\n参数\n\nObject res\n\n| 属性                        | 类型    | 说明                                                                                                                                                 | 最低版本 |\n| --------------------------- | ------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |\n| brand                       | string  | 设备品牌                                                                                                                                             | 1.5.0    |\n| model                       | string  | 设备型号                                                                                                                                             |          |\n| pixelRatio                  | number  | 设备像素比                                                                                                                                           |          |\n| screenWidth                 | number  | 屏幕宽度，单位 px                                                                                                                                    | 1.1.0    |\n| screenHeight                | number  | 屏幕高度，单位 px                                                                                                                                    | 1.1.0    |\n| windowWidth                 | number  | 可使用窗口宽度，单位 px                                                                                                                              |          |\n| windowHeight                | number  | 可使用窗口高度，单位 px                                                                                                                              |          |\n| statusBarHeight             | number  | 状态栏的高度，单位 px                                                                                                                                | 1.9.0    |\n| language                    | string  | 微信设置的语言                                                                                                                                       |          |\n| version                     | string  | 微信版本号                                                                                                                                           |          |\n| system                      | string  | 操作系统及版本                                                                                                                                       |          |\n| platform                    | string  | 客户端平台                                                                                                                                           |          |\n| fontSizeSetting             | number  | 用户字体大小(单位 px)。以微信客户端「我-设置-通用-字体大小」中的设置为准                                                                             | 1.5.0    |\n| SDKVersion                  | string  | 客户端基础库版本                                                                                                                                     | 1.1.0    |\n| benchmarkLevel              | number  | 设备性能等级(仅 Android 小游戏)。<br />取值为: -2 或 0(该设备无法运行小游戏)，-1(性能未知)，>=1(设备性能值，该值越高，设备性能越好，目前最高不到 50) | 1.8.0    |\n| albumAuthorized             | boolean | 允许微信使用相册的开关(仅 iOS 有效)                                                                                                                  | 2.6.0    |\n| cameraAuthorized            | boolean | 允许微信使用摄像头的开关                                                                                                                             | 2.6.0    |\n| locationAuthorized          | boolean | 允许微信使用定位的开关                                                                                                                               | 2.6.0    |\n| microphoneAuthorized        | boolean | 允许微信使用麦克风的开关                                                                                                                             | 2.6.0    |\n| notificationAuthorized      | boolean | 允许微信通知的开关                                                                                                                                   | 2.6.0    |\n| notificationAlertAuthorized | boolean | 允许微信通知带有提醒的开关(仅 iOS 有效)                                                                                                              | 2.6.0    |\n| notificationBadgeAuthorized | boolean | 允许微信通知带有标记的开关(仅 iOS 有效)                                                                                                              | 2.6.0    |\n| notificationSoundAuthorized | boolean | 允许微信通知带有声音的开关(仅 iOS 有效)                                                                                                              | 2.6.0    |\n| bluetoothEnabled            | boolean | 蓝牙的系统开关                                                                                                                                       | 2.6.0    |\n| locationEnabled             | boolean | 地理位置的系统开关                                                                                                                                   | 2.6.0    |\n| wifiEnabled                 | boolean | Wi-Fi 的系统开关                                                                                                                                     | 2.6.0    |\n| safeArea                    | Object  | 在竖屏正方向下的安全区域                                                                                                                             | 2.7.0    |\n\n#### res.safeArea 的结构\n\n| 属性   | 类型   | 说明                         |\n| ------ | ------ | ---------------------------- |\n| left   | number | 安全区域左上角横坐标         |\n| right  | number | 安全区域右下角横坐标         |\n| top    | number | 安全区域左上角纵坐标         |\n| bottom | number | 安全区域右下角纵坐标         |\n| width  | number | 安全区域的宽度，单位逻辑像素 |\n| height | number | 安全区域的高度，单位逻辑像素 |\n\n示例代码\n\n```js\nwx.getSystemInfo({\n  success: (res) => {\n    console.log(res.model);\n    console.log(res.pixelRatio);\n    console.log(res.windowWidth);\n    console.log(res.windowHeight);\n    console.log(res.language);\n    console.log(res.version);\n    console.log(res.platform);\n  },\n});\n```\n\n## Object wx.getSystemInfoSync()\n\n`wx.getSystemInfo` 的同步版本\n\n直接返回异步版本的 `res`\n\n示例代码\n\n```js\ntry {\n  const res = wx.getSystemInfoSync();\n\n  console.log(res.model);\n  console.log(res.pixelRatio);\n  console.log(res.windowWidth);\n  console.log(res.windowHeight);\n  console.log(res.language);\n  console.log(res.version);\n  console.log(res.platform);\n} catch (err) {\n  // Do something when catch error\n}\n```\n\n## UpdateManager wx.getUpdateManager()\n\n获取全局唯一的版本更新管理器，用于管理小程序更新。关于小程序的更新机制，可以查看运行机制文档。\n\n返回值: UpdateManager\n\n## UpdateManager\n\n更新管理器对象，用来管理更新，可通过 `wx.getUpdateManager` 接口获取实例。UpdateManager 有多个方法\n\n### UpdateManager.applyUpdate()\n\n强制小程序重启并使用新版本。在小程序新版本下载完成后(即收到 `onUpdateReady` 回调)调用。\n\n### UpdateManager.onCheckForUpdate(function callback)\n\n监听向微信后台请求检查更新结果事件。微信在小程序冷启动时自动检查更新，不需由开发者主动触发。\n\nFunction callback\n\n向微信后台请求检查更新结果事件的回调函数\n\n参数\n\nObject res\n\n| 属性      | 类型    | 说明         |\n| --------- | ------- | ------------ |\n| hasUpdate | boolean | 是否有新版本 |\n\n### UpdateManager.onUpdateReady(function callback)\n\n监听小程序有版本更新事件。客户端主动触发下载(无需开发者触发)，下载成功后回调\n\n### UpdateManager.onUpdateFailed(function callback)\n\n监听小程序更新失败事件。小程序有新版本，客户端主动触发下载(无需开发者触发)，下载失败(可能是网络原因等)后回调\n\n示例代码\n\n```js\nconst updateManager = wx.getUpdateManager();\n\nupdateManager.onCheckForUpdate((res) => {\n  // 请求完新版本信息的回调\n  console.log(res.hasUpdate);\n});\n\nupdateManager.onUpdateReady(() => {\n  wx.showModal({\n    title: \"更新提示\",\n    content: \"新版本已经准备好，是否重启应用? \",\n    success: (res) => {\n      if (res.confirm)\n        // 新的版本已经下载好，调用 applyUpdate 应用新版本并重启\n        updateManager.applyUpdate();\n    },\n  });\n});\n\nupdateManager.onUpdateFailed(() => {\n  // 新版本下载失败\n});\n```\n","excerpt":"","title":"","headers":[{"level":2,"title":"wx.getSystemInfo(Object object)","slug":"wx-getsysteminfo-object-object","link":"#wx-getsysteminfo-object-object","children":[{"level":3,"title":"参数","slug":"参数","link":"#参数","children":[]},{"level":3,"title":"object.success 回调函数","slug":"object-success-回调函数","link":"#object-success-回调函数","children":[]}]},{"level":2,"title":"Object wx.getSystemInfoSync()","slug":"object-wx-getsysteminfosync","link":"#object-wx-getsysteminfosync","children":[]},{"level":2,"title":"UpdateManager wx.getUpdateManager()","slug":"updatemanager-wx-getupdatemanager","link":"#updatemanager-wx-getupdatemanager","children":[]},{"level":2,"title":"UpdateManager","slug":"updatemanager","link":"#updatemanager","children":[{"level":3,"title":"UpdateManager.applyUpdate()","slug":"updatemanager-applyupdate","link":"#updatemanager-applyupdate","children":[]},{"level":3,"title":"UpdateManager.onCheckForUpdate(function callback)","slug":"updatemanager-oncheckforupdate-function-callback","link":"#updatemanager-oncheckforupdate-function-callback","children":[]},{"level":3,"title":"UpdateManager.onUpdateReady(function callback)","slug":"updatemanager-onupdateready-function-callback","link":"#updatemanager-onupdateready-function-callback","children":[]},{"level":3,"title":"UpdateManager.onUpdateFailed(function callback)","slug":"updatemanager-onupdatefailed-function-callback","link":"#updatemanager-onupdatefailed-function-callback","children":[]}]}]}}
